<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/create_test_data.sql">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/create_test_data.sql" />
              <option name="originalContent" value="&#10;" />
              <option name="updatedContent" value="-- Script tạo dữ liệu test cho ChatApp&#13;&#10;USE chatapp;&#13;&#10;&#13;&#10;-- Xóa dữ liệu cũ nếu có&#13;&#10;DELETE FROM follows;&#13;&#10;DELETE FROM posts;&#13;&#10;DELETE FROM users;&#13;&#10;&#13;&#10;-- Reset AUTO_INCREMENT&#13;&#10;ALTER TABLE users AUTO_INCREMENT = 1;&#13;&#10;ALTER TABLE posts AUTO_INCREMENT = 1;&#13;&#10;&#13;&#10;-- Thêm users mẫu&#13;&#10;INSERT INTO users (id, username, role, create_at) VALUES &#13;&#10;(1, 'admin', 'ADMIN', '2025-01-01 10:00:00'),&#13;&#10;(2, 'john_doe', 'USER', '2025-01-02 11:00:00'),&#13;&#10;(3, 'jane_smith', 'USER', '2025-01-03 12:00:00'),&#13;&#10;(4, 'mike_wilson', 'USER', '2025-01-04 13:00:00'),&#13;&#10;(5, 'sarah_johnson', 'USER', '2025-01-05 14:00:00');&#13;&#10;&#13;&#10;-- Thêm posts mẫu&#13;&#10;INSERT INTO posts (id, title, body, status, create_at, user_id) VALUES &#13;&#10;(1, 'Chào mừng đến với ChatApp', 'Đây là bài viết đầu tiên trên hệ thống ChatApp của chúng tôi! Chúc các bạn có những trải nghiệm tuyệt vời.', 'ACTIVE', '2025-01-01 15:00:00', 1),&#13;&#10;(2, 'Hướng dẫn sử dụng cơ bản', 'Bạn có thể tạo bài viết, theo dõi người dùng khác và tương tác với cộng đồng một cách dễ dàng.', 'ACTIVE', '2025-01-02 16:00:00', 2),&#13;&#10;(3, 'Tips và tricks hay ho', 'Một số mẹo hay khi sử dụng ChatApp để có trải nghiệm tốt nhất: 1) Viết tiêu đề hấp dẫn, 2) Nội dung ngắn gọn, súc tích.', 'ACTIVE', '2025-01-03 17:00:00', 3),&#13;&#10;(4, 'Bài viết bản nháp', 'Đây là bài viết đang trong quá trình chỉnh sửa, chưa được công bố rộng rãi.', 'DRAFT', '2025-01-04 18:00:00', 4),&#13;&#10;(5, 'Chia sẻ kinh nghiệm', 'Sau một thời gian sử dụng ChatApp, tôi muốn chia sẻ một số kinh nghiệm với mọi người.', 'ACTIVE', '2025-01-05 19:00:00', 5),&#13;&#10;(6, 'Bài viết thứ hai của John', 'Đây là bài viết thứ hai của tôi. Cảm ơn mọi người đã đọc bài viết đầu tiên!', 'ACTIVE', '2025-01-06 20:00:00', 2),&#13;&#10;(7, 'Update mới nhất', 'Hệ thống đã được cập nhật với nhiều tính năng mới thú vị. Hãy khám phá nhé!', 'ACTIVE', '2025-01-07 21:00:00', 1);&#13;&#10;&#13;&#10;-- Thêm follows mẫu (đảm bảo cột tên đúng)&#13;&#10;INSERT INTO follows (following_user_id, followed_user_id, created_at) VALUES &#13;&#10;(2, 1, '2025-01-02 12:00:00'),  -- john_doe follows admin&#13;&#10;(3, 1, '2025-01-03 13:00:00'),  -- jane_smith follows admin  &#13;&#10;(4, 1, '2025-01-04 14:00:00'),  -- mike_wilson follows admin&#13;&#10;(5, 1, '2025-01-05 15:00:00'),  -- sarah_johnson follows admin&#13;&#10;(3, 2, '2025-01-03 16:00:00'),  -- jane_smith follows john_doe&#13;&#10;(4, 2, '2025-01-04 17:00:00'),  -- mike_wilson follows john_doe&#13;&#10;(5, 3, '2025-01-05 18:00:00'),  -- sarah_johnson follows jane_smith&#13;&#10;(2, 3, '2025-01-06 19:00:00'),  -- john_doe follows jane_smith&#13;&#10;(1, 2, '2025-01-07 20:00:00');  -- admin follows john_doe&#13;&#10;&#13;&#10;-- Kiểm tra dữ liệu đã được tạo&#13;&#10;SELECT 'Users created:' as Info;&#13;&#10;SELECT id, username, role, create_at FROM users;&#13;&#10;&#13;&#10;SELECT 'Posts created:' as Info;&#13;&#10;SELECT id, title, status, create_at, user_id FROM posts;&#13;&#10;&#13;&#10;SELECT 'Follows created:' as Info;&#13;&#10;SELECT following_user_id, followed_user_id, created_at FROM follows;&#13;&#10;&#13;&#10;-- Kiểm tra dữ liệu follows cho user admin (ID=1)&#13;&#10;SELECT 'Followers of admin (user_id=1):' as Info;&#13;&#10;SELECT f.following_user_id, u.username as follower_name &#13;&#10;FROM follows f &#13;&#10;JOIN users u ON f.following_user_id = u.id &#13;&#10;WHERE f.followed_user_id = 1;&#13;&#10;&#13;&#10;SELECT 'Admin following (user_id=1):' as Info;&#13;&#10;SELECT f.followed_user_id, u.username as followed_name &#13;&#10;FROM follows f &#13;&#10;JOIN users u ON f.followed_user_id = u.id &#13;&#10;WHERE f.following_user_id = 1;&#13;&#10;&#13;&#10;-- Kiểm tra dữ liệu followers/following của từng user&#13;&#10;SELECT u.username, &#13;&#10;       (SELECT COUNT(*) FROM follows f WHERE f.following_user_id = u.id) as following_count,&#13;&#10;       (SELECT COUNT(*) FROM follows f WHERE f.followed_user_id = u.id) as follower_count&#13;&#10;FROM users u;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/database_setup.sql">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/database_setup.sql" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/deploy.bat">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/deploy.bat" />
              <option name="updatedContent" value="@echo off&#10;echo &quot;=== DEPLOY CHATAPP TO TOMCAT 10 ===&quot;&#10;echo.&#10;&#10;REM Thay đổi đường dẫn Tomcat theo máy của bạn&#10;set TOMCAT_HOME=C:\apache-tomcat-10.1.15&#10;set WAR_FILE=D:\Work-Java\ChatApp\target\ChatApp.war&#10;&#10;echo &quot;Kiểm tra file WAR...&quot;&#10;if not exist &quot;%WAR_FILE%&quot; (&#10;    echo &quot;ERROR: Không tìm thấy file WAR. Chạy build.bat trước!&quot;&#10;    pause&#10;    exit /b 1&#10;)&#10;&#10;echo &quot;Kiểm tra Tomcat...&quot;&#10;if not exist &quot;%TOMCAT_HOME%\webapps&quot; (&#10;    echo &quot;ERROR: Không tìm thấy Tomcat tại %TOMCAT_HOME%&quot;&#10;    echo &quot;Vui lòng chỉnh sửa đường dẫn TOMCAT_HOME trong file này&quot;&#10;    pause&#10;    exit /b 1&#10;)&#10;&#10;echo &quot;Dừng Tomcat (nếu đang chạy)...&quot;&#10;call &quot;%TOMCAT_HOME%\bin\shutdown.bat&quot; 2&gt;nul&#10;&#10;echo &quot;Xóa ứng dụng cũ...&quot;&#10;if exist &quot;%TOMCAT_HOME%\webapps\ChatApp&quot; rmdir /s /q &quot;%TOMCAT_HOME%\webapps\ChatApp&quot;&#10;if exist &quot;%TOMCAT_HOME%\webapps\ChatApp.war&quot; del &quot;%TOMCAT_HOME%\webapps\ChatApp.war&quot;&#10;&#10;echo &quot;Deploy ứng dụng mới...&quot;&#10;copy &quot;%WAR_FILE%&quot; &quot;%TOMCAT_HOME%\webapps\&quot;&#10;&#10;echo &quot;Khởi động Tomcat...&quot;&#10;start &quot;&quot; &quot;%TOMCAT_HOME%\bin\startup.bat&quot;&#10;&#10;echo.&#10;echo &quot;=== DEPLOY HOÀN TẤT ===&quot;&#10;echo &quot;Đợi 10-15 giây để Tomcat khởi động xong&quot;&#10;echo &quot;Sau đó truy cập: http://localhost:8080/ChatApp/&quot;&#10;echo.&#10;echo &quot;Các URL có thể truy cập:&quot;&#10;echo &quot;- Trang chủ: http://localhost:8080/ChatApp/&quot;&#10;echo &quot;- Posts: http://localhost:8080/ChatApp/web/posts&quot;&#10;echo &quot;- Users: http://localhost:8080/ChatApp/web/users&quot;&#10;echo &quot;- Test: http://localhost:8080/ChatApp/web/test&quot;&#10;echo.&#10;&#10;pause" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/install-tomcat.bat">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/install-tomcat.bat" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/pom.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/pom.xml" />
              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;&#10;         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&#10;         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;&#10;    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;&#10;&#10;    &lt;groupId&gt;com.nguenduyduong.chatapp&lt;/groupId&gt;&#10;    &lt;artifactId&gt;ChatApp&lt;/artifactId&gt;&#10;    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;&#10;    &lt;packaging&gt;war&lt;/packaging&gt;&#10;&#10;    &lt;properties&gt;&#10;        &lt;maven.compiler.source&gt;21&lt;/maven.compiler.source&gt;&#10;        &lt;maven.compiler.target&gt;21&lt;/maven.compiler.target&gt;&#10;        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;&#10;        &lt;spring.version&gt;6.0.11&lt;/spring.version&gt;&#10;        &lt;hibernate.version&gt;6.2.7.Final&lt;/hibernate.version&gt;&#10;        &lt;mysql.version&gt;8.0.33&lt;/mysql.version&gt;&#10;    &lt;/properties&gt;&#10;&#10;    &lt;dependencies&gt;&#10;        &lt;!-- Spring Core --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;&#10;            &lt;version&gt;${spring.version}&lt;/version&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- Spring Context --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;&#10;            &lt;version&gt;${spring.version}&lt;/version&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- Spring Web MVC --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;&#10;            &lt;version&gt;${spring.version}&lt;/version&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- Spring ORM --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;&#10;            &lt;version&gt;${spring.version}&lt;/version&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- Spring TX --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;&#10;            &lt;version&gt;${spring.version}&lt;/version&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- Jakarta Servlet API (thay thế javax.servlet) --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;&#10;            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;&#10;            &lt;version&gt;6.0.0&lt;/version&gt;&#10;            &lt;scope&gt;provided&lt;/scope&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- Jakarta JSP API (thay thế javax.servlet.jsp) --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;jakarta.servlet.jsp&lt;/groupId&gt;&#10;            &lt;artifactId&gt;jakarta.servlet.jsp-api&lt;/artifactId&gt;&#10;            &lt;version&gt;3.1.0&lt;/version&gt;&#10;            &lt;scope&gt;provided&lt;/scope&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- Jakarta JSTL (thay thế javax.servlet JSTL) --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;&#10;            &lt;artifactId&gt;jakarta.servlet.jsp.jstl&lt;/artifactId&gt;&#10;            &lt;version&gt;3.0.1&lt;/version&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- Hibernate Core --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;&#10;            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;&#10;            &lt;version&gt;${hibernate.version}&lt;/version&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- MySQL Connector --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;com.mysql&lt;/groupId&gt;&#10;            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;&#10;            &lt;version&gt;${mysql.version}&lt;/version&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- Jackson for JSON --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;&#10;            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;&#10;            &lt;version&gt;2.15.2&lt;/version&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- Connection Pool --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;com.mchange&lt;/groupId&gt;&#10;            &lt;artifactId&gt;c3p0&lt;/artifactId&gt;&#10;            &lt;version&gt;0.9.5.5&lt;/version&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- Lombok --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;&#10;            &lt;artifactId&gt;lombok&lt;/artifactId&gt;&#10;            &lt;version&gt;1.18.30&lt;/version&gt;&#10;            &lt;scope&gt;provided&lt;/scope&gt;&#10;        &lt;/dependency&gt;&#10;    &lt;/dependencies&gt;&#10;&#10;    &lt;build&gt;&#10;        &lt;finalName&gt;ChatApp&lt;/finalName&gt;&#10;        &lt;plugins&gt;&#10;            &lt;plugin&gt;&#10;                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;&#10;                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;&#10;                &lt;version&gt;3.11.0&lt;/version&gt;&#10;                &lt;configuration&gt;&#10;                    &lt;source&gt;21&lt;/source&gt;&#10;                    &lt;target&gt;21&lt;/target&gt;&#10;                &lt;/configuration&gt;&#10;            &lt;/plugin&gt;&#10;&#10;            &lt;!-- Maven WAR Plugin --&gt;&#10;            &lt;plugin&gt;&#10;                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;&#10;                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;&#10;                &lt;version&gt;3.3.2&lt;/version&gt;&#10;                &lt;configuration&gt;&#10;                    &lt;warSourceDirectory&gt;src/main/webapp&lt;/warSourceDirectory&gt;&#10;                &lt;/configuration&gt;&#10;            &lt;/plugin&gt;&#10;&#10;            &lt;!-- Jetty Maven Plugin (Primary choice) --&gt;&#10;            &lt;plugin&gt;&#10;                &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;&#10;                &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;&#10;                &lt;version&gt;11.0.15&lt;/version&gt;&#10;                &lt;configuration&gt;&#10;                    &lt;httpConnector&gt;&#10;                        &lt;port&gt;8081&lt;/port&gt;&#10;                    &lt;/httpConnector&gt;&#10;                    &lt;webApp&gt;&#10;                        &lt;contextPath&gt;/ChatApp&lt;/contextPath&gt;&#10;                    &lt;/webApp&gt;&#10;                &lt;/configuration&gt;&#10;            &lt;/plugin&gt;&#10;&#10;            &lt;!-- Spring Boot Maven Plugin (Alternative) --&gt;&#10;            &lt;plugin&gt;&#10;                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;&#10;                &lt;version&gt;3.1.2&lt;/version&gt;&#10;                &lt;configuration&gt;&#10;                    &lt;mainClass&gt;org.springframework.boot.web.servlet.support.SpringBootServletInitializer&lt;/mainClass&gt;&#10;                &lt;/configuration&gt;&#10;                &lt;executions&gt;&#10;                    &lt;execution&gt;&#10;                        &lt;goals&gt;&#10;                            &lt;goal&gt;repackage&lt;/goal&gt;&#10;                        &lt;/goals&gt;&#10;                    &lt;/execution&gt;&#10;                &lt;/executions&gt;&#10;            &lt;/plugin&gt;&#10;        &lt;/plugins&gt;&#10;    &lt;/build&gt;&#10;&#10;&lt;/project&gt;&#10;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;&#10;         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&#10;         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;&#10;    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;&#10;&#10;    &lt;groupId&gt;com.nguenduyduong.chatapp&lt;/groupId&gt;&#10;    &lt;artifactId&gt;ChatApp&lt;/artifactId&gt;&#10;    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;&#10;    &lt;packaging&gt;war&lt;/packaging&gt;&#10;&#10;    &lt;properties&gt;&#10;        &lt;maven.compiler.source&gt;21&lt;/maven.compiler.source&gt;&#10;        &lt;maven.compiler.target&gt;21&lt;/maven.compiler.target&gt;&#10;        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;&#10;        &lt;spring.version&gt;6.0.11&lt;/spring.version&gt;&#10;        &lt;hibernate.version&gt;6.2.7.Final&lt;/hibernate.version&gt;&#10;        &lt;mysql.version&gt;8.0.33&lt;/mysql.version&gt;&#10;    &lt;/properties&gt;&#10;&#10;    &lt;dependencies&gt;&#10;        &lt;!-- Spring Core --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;&#10;            &lt;version&gt;${spring.version}&lt;/version&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- Spring Context --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;&#10;            &lt;version&gt;${spring.version}&lt;/version&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- Spring Web MVC --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;&#10;            &lt;version&gt;${spring.version}&lt;/version&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- Spring ORM --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;&#10;            &lt;version&gt;${spring.version}&lt;/version&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- Spring TX --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;&#10;            &lt;version&gt;${spring.version}&lt;/version&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- Jakarta Servlet API (thay thế javax.servlet) --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;&#10;            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;&#10;            &lt;version&gt;6.0.0&lt;/version&gt;&#10;            &lt;scope&gt;provided&lt;/scope&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- Jakarta JSP API (thay thế javax.servlet.jsp) --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;jakarta.servlet.jsp&lt;/groupId&gt;&#10;            &lt;artifactId&gt;jakarta.servlet.jsp-api&lt;/artifactId&gt;&#10;            &lt;version&gt;3.1.0&lt;/version&gt;&#10;            &lt;scope&gt;provided&lt;/scope&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- Jakarta JSTL (thay thế javax.servlet JSTL) --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;&#10;            &lt;artifactId&gt;jakarta.servlet.jsp.jstl&lt;/artifactId&gt;&#10;            &lt;version&gt;3.0.1&lt;/version&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- Hibernate Core --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;&#10;            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;&#10;            &lt;version&gt;${hibernate.version}&lt;/version&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- MySQL Connector --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;com.mysql&lt;/groupId&gt;&#10;            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;&#10;            &lt;version&gt;${mysql.version}&lt;/version&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- Jackson for JSON --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;&#10;            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;&#10;            &lt;version&gt;2.15.2&lt;/version&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- Connection Pool --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;com.mchange&lt;/groupId&gt;&#10;            &lt;artifactId&gt;c3p0&lt;/artifactId&gt;&#10;            &lt;version&gt;0.9.5.5&lt;/version&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- Lombok --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;&#10;            &lt;artifactId&gt;lombok&lt;/artifactId&gt;&#10;            &lt;version&gt;1.18.30&lt;/version&gt;&#10;            &lt;scope&gt;provided&lt;/scope&gt;&#10;        &lt;/dependency&gt;&#10;    &lt;/dependencies&gt;&#10;&#10;    &lt;build&gt;&#10;        &lt;finalName&gt;ChatApp&lt;/finalName&gt;&#10;        &lt;plugins&gt;&#10;            &lt;plugin&gt;&#10;                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;&#10;                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;&#10;                &lt;version&gt;3.11.0&lt;/version&gt;&#10;                &lt;configuration&gt;&#10;                    &lt;source&gt;21&lt;/source&gt;&#10;                    &lt;target&gt;21&lt;/target&gt;&#10;                &lt;/configuration&gt;&#10;            &lt;/plugin&gt;&#10;&#10;            &lt;!-- Maven WAR Plugin --&gt;&#10;            &lt;plugin&gt;&#10;                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;&#10;                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;&#10;                &lt;version&gt;3.3.2&lt;/version&gt;&#10;                &lt;configuration&gt;&#10;                    &lt;warSourceDirectory&gt;src/main/webapp&lt;/warSourceDirectory&gt;&#10;                &lt;/configuration&gt;&#10;            &lt;/plugin&gt;&#10;&#10;            &lt;!-- Jetty Maven Plugin (Primary choice) --&gt;&#10;            &lt;plugin&gt;&#10;                &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;&#10;                &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;&#10;                &lt;version&gt;11.0.15&lt;/version&gt;&#10;                &lt;configuration&gt;&#10;                    &lt;httpConnector&gt;&#10;                        &lt;port&gt;8082&lt;/port&gt;&#10;                    &lt;/httpConnector&gt;&#10;                    &lt;webApp&gt;&#10;                        &lt;contextPath&gt;/ChatApp&lt;/contextPath&gt;&#10;                    &lt;/webApp&gt;&#10;                &lt;/configuration&gt;&#10;            &lt;/plugin&gt;&#10;&#10;            &lt;!-- Spring Boot Maven Plugin (Alternative) --&gt;&#10;            &lt;plugin&gt;&#10;                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;&#10;                &lt;version&gt;3.1.2&lt;/version&gt;&#10;                &lt;configuration&gt;&#10;                    &lt;mainClass&gt;org.springframework.boot.web.servlet.support.SpringBootServletInitializer&lt;/mainClass&gt;&#10;                &lt;/configuration&gt;&#10;                &lt;executions&gt;&#10;                    &lt;execution&gt;&#10;                        &lt;goals&gt;&#10;                            &lt;goal&gt;repackage&lt;/goal&gt;&#10;                        &lt;/goals&gt;&#10;                    &lt;/execution&gt;&#10;                &lt;/executions&gt;&#10;            &lt;/plugin&gt;&#10;        &lt;/plugins&gt;&#10;    &lt;/build&gt;&#10;&#10;&lt;/project&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/user/chatappdemo/controller/WebController.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/user/chatappdemo/controller/WebController.java" />
              <option name="originalContent" value="package com.user.chatappdemo.controller;&#10;&#10;import com.user.chatappdemo.dto.CreatePostRequest;&#10;import com.user.chatappdemo.dto.FollowerResponse;&#10;import com.user.chatappdemo.dto.PostResponse;&#10;import com.user.chatappdemo.entity.User;&#10;import com.user.chatappdemo.service.FollowService;&#10;import com.user.chatappdemo.service.PostService;&#10;import com.user.chatappdemo.service.UserService;&#10;import org.springframework.beans.factory.annotation.Autowired;&#10;import org.springframework.stereotype.Controller;&#10;import org.springframework.ui.Model;&#10;import org.springframework.web.bind.annotation.*;&#10;import org.springframework.web.servlet.mvc.support.RedirectAttributes;&#10;&#10;import java.util.List;&#10;&#10;@Controller&#10;@RequestMapping(&quot;/web&quot;)&#10;public class WebController {&#10;&#10;    @Autowired&#10;    private PostService postService;&#10;&#10;    @Autowired&#10;    private UserService userService;&#10;&#10;    @Autowired&#10;    private FollowService followService;&#10;&#10;    @GetMapping(&quot;/&quot;)&#10;    public String home(Model model) {&#10;        try {&#10;            List&lt;PostResponse&gt; posts = postService.getAllPosts();&#10;            model.addAttribute(&quot;posts&quot;, posts);&#10;        } catch (Exception e) {&#10;            model.addAttribute(&quot;posts&quot;, List.of());&#10;            model.addAttribute(&quot;error&quot;, &quot;Không thể tải danh sách bài viết&quot;);&#10;        }&#10;        return &quot;home&quot;;&#10;    }&#10;&#10;    @GetMapping(&quot;/posts&quot;)&#10;    public String posts(Model model) {&#10;        try {&#10;            List&lt;PostResponse&gt; posts = postService.getAllPosts();&#10;            model.addAttribute(&quot;posts&quot;, posts);&#10;            return &quot;posts&quot;;&#10;        } catch (Exception e) {&#10;            model.addAttribute(&quot;error&quot;, &quot;Không thể tải danh sách bài viết&quot;);&#10;            return &quot;error&quot;;&#10;        }&#10;    }&#10;&#10;    @GetMapping(&quot;/users&quot;)&#10;    public String users(Model model) {&#10;        try {&#10;            List&lt;User&gt; users = userService.getAllUsers();&#10;            model.addAttribute(&quot;users&quot;, users);&#10;            return &quot;users&quot;;&#10;        } catch (Exception e) {&#10;            model.addAttribute(&quot;error&quot;, &quot;Không thể tải danh sách người dùng&quot;);&#10;            return &quot;error&quot;;&#10;        }&#10;    }&#10;&#10;    @GetMapping(&quot;/profile/{userId}&quot;)&#10;    public String profile(@PathVariable int userId, Model model) {&#10;        try {&#10;            User user = userService.getUserById(userId);&#10;            if (user == null) {&#10;                model.addAttribute(&quot;error&quot;, &quot;Không tìm thấy người dùng với ID: &quot; + userId);&#10;                return &quot;error&quot;;&#10;            }&#10;&#10;            List&lt;PostResponse&gt; userPosts = postService.getUserPosts(userId);&#10;            List&lt;FollowerResponse&gt; followers = followService.getUserFollowers(userId);&#10;            List&lt;FollowerResponse&gt; followings = followService.getUserFollowings(userId);&#10;&#10;            model.addAttribute(&quot;user&quot;, user);&#10;            model.addAttribute(&quot;posts&quot;, userPosts);&#10;            model.addAttribute(&quot;followers&quot;, followers);&#10;            model.addAttribute(&quot;followings&quot;, followings);&#10;            return &quot;profile&quot;;&#10;        } catch (Exception e) {&#10;            model.addAttribute(&quot;error&quot;, &quot;Không thể tải thông tin người dùng: &quot; + e.getMessage());&#10;            return &quot;error&quot;;&#10;        }&#10;    }&#10;&#10;    @GetMapping(&quot;/create-post&quot;)&#10;    public String createPostForm(Model model) {&#10;        model.addAttribute(&quot;request&quot;, new CreatePostRequest());&#10;        return &quot;create-post&quot;;&#10;    }&#10;&#10;    @PostMapping(&quot;/create-post&quot;)&#10;    public String createPost(@RequestParam(&quot;userId&quot;) int userId,&#10;                             @ModelAttribute CreatePostRequest request,&#10;                             RedirectAttributes redirectAttributes) {&#10;        try {&#10;            postService.createPost(userId, request);&#10;            redirectAttributes.addFlashAttribute(&quot;success&quot;, &quot;Tạo bài viết thành công!&quot;);&#10;            return &quot;redirect:/web/posts&quot;;&#10;        } catch (Exception e) {&#10;            redirectAttributes.addFlashAttribute(&quot;error&quot;, &quot;Không thể tạo bài viết: &quot; + e.getMessage());&#10;            return &quot;redirect:/web/create-post&quot;;&#10;        }&#10;    }&#10;&#10;    @GetMapping(&quot;/test&quot;)&#10;    public String test(Model model) {&#10;        model.addAttribute(&quot;message&quot;, &quot;Spring MVC đã được cấu hình thành công!&quot;);&#10;        return &quot;test&quot;;&#10;    }&#10;&#10;    @GetMapping(&quot;/posts/user/{userId}&quot;)&#10;    public String showUserPosts(@PathVariable int userId, Model model) {&#10;        try {&#10;            List&lt;PostResponse&gt; posts = postService.getUserPosts(userId);&#10;            User user = userService.getUserById(userId);&#10;            model.addAttribute(&quot;posts&quot;, posts);&#10;            model.addAttribute(&quot;user&quot;, user);&#10;            return &quot;posts&quot;;&#10;        } catch (Exception e) {&#10;            model.addAttribute(&quot;error&quot;, &quot;Không thể tải bài viết của người dùng&quot;);&#10;            return &quot;error&quot;;&#10;        }&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.user.chatappdemo.controller;&#10;&#10;import com.user.chatappdemo.dto.CreatePostRequest;&#10;import com.user.chatappdemo.dto.FollowerResponse;&#10;import com.user.chatappdemo.dto.PostResponse;&#10;import com.user.chatappdemo.entity.User;&#10;import com.user.chatappdemo.service.FollowService;&#10;import com.user.chatappdemo.service.PostService;&#10;import com.user.chatappdemo.service.UserService;&#10;import org.springframework.beans.factory.annotation.Autowired;&#10;import org.springframework.stereotype.Controller;&#10;import org.springframework.ui.Model;&#10;import org.springframework.web.bind.annotation.*;&#10;import org.springframework.web.servlet.mvc.support.RedirectAttributes;&#10;&#10;import java.util.List;&#10;&#10;@Controller&#10;@RequestMapping(&quot;/web&quot;)&#10;public class WebController {&#10;&#10;    @Autowired&#10;    private PostService postService;&#10;&#10;    @Autowired&#10;    private UserService userService;&#10;&#10;    @Autowired&#10;    private FollowService followService;&#10;&#10;    @GetMapping(&quot;/&quot;)&#10;    public String home(Model model) {&#10;        try {&#10;            List&lt;PostResponse&gt; posts = postService.getAllPosts();&#10;            model.addAttribute(&quot;posts&quot;, posts);&#10;        } catch (Exception e) {&#10;            model.addAttribute(&quot;posts&quot;, List.of());&#10;            model.addAttribute(&quot;error&quot;, &quot;Không thể tải danh sách bài viết&quot;);&#10;        }&#10;        return &quot;home&quot;;&#10;    }&#10;&#10;    @GetMapping(&quot;/posts&quot;)&#10;    public String posts(Model model) {&#10;        try {&#10;            List&lt;PostResponse&gt; posts = postService.getAllPosts();&#10;            model.addAttribute(&quot;posts&quot;, posts);&#10;            return &quot;posts&quot;;&#10;        } catch (Exception e) {&#10;            model.addAttribute(&quot;error&quot;, &quot;Không thể tải danh sách bài viết&quot;);&#10;            return &quot;error&quot;;&#10;        }&#10;    }&#10;&#10;    @GetMapping(&quot;/users&quot;)&#10;    public String users(Model model) {&#10;        try {&#10;            List&lt;User&gt; users = userService.getAllUsers();&#10;            model.addAttribute(&quot;users&quot;, users);&#10;            return &quot;users&quot;;&#10;        } catch (Exception e) {&#10;            model.addAttribute(&quot;error&quot;, &quot;Không thể tải danh sách người dùng&quot;);&#10;            return &quot;error&quot;;&#10;        }&#10;    }&#10;&#10;    @GetMapping(&quot;/profile/{userId}&quot;)&#10;    public String profile(@PathVariable int userId, Model model) {&#10;        try {&#10;            User user = userService.getUserById(userId);&#10;            if (user == null) {&#10;                model.addAttribute(&quot;error&quot;, &quot;Không tìm thấy người dùng với ID: &quot; + userId);&#10;                return &quot;error&quot;;&#10;            }&#10;&#10;            List&lt;PostResponse&gt; userPosts = postService.getUserPosts(userId);&#10;            List&lt;FollowerResponse&gt; followers = followService.getUserFollowers(userId);&#10;            List&lt;FollowerResponse&gt; followings = followService.getUserFollowings(userId);&#10;&#10;            model.addAttribute(&quot;user&quot;, user);&#10;            model.addAttribute(&quot;posts&quot;, userPosts);&#10;            model.addAttribute(&quot;followers&quot;, followers);&#10;            model.addAttribute(&quot;followings&quot;, followings);&#10;            return &quot;profile&quot;;&#10;        } catch (Exception e) {&#10;            model.addAttribute(&quot;error&quot;, &quot;Không thể tải thông tin người dùng: &quot; + e.getMessage());&#10;            return &quot;error&quot;;&#10;        }&#10;    }&#10;&#10;    @GetMapping(&quot;/create-post&quot;)&#10;    public String createPostForm(@RequestParam(value = &quot;userId&quot;, required = false) Integer userId, Model model) {&#10;        CreatePostRequest request = new CreatePostRequest();&#10;        if (userId != null) {&#10;            request.setUserId(userId);&#10;        }&#10;        model.addAttribute(&quot;request&quot;, request);&#10;        return &quot;create-post&quot;;&#10;    }&#10;&#10;    @PostMapping(&quot;/create-post&quot;)&#10;    public String createPost(@RequestParam(&quot;userId&quot;) int userId,&#10;                             @ModelAttribute CreatePostRequest request,&#10;                             RedirectAttributes redirectAttributes) {&#10;        try {&#10;            postService.createPost(userId, request);&#10;            redirectAttributes.addFlashAttribute(&quot;success&quot;, &quot;Tạo bài viết thành công!&quot;);&#10;            return &quot;redirect:/web/profile/&quot; + userId;&#10;        } catch (Exception e) {&#10;            redirectAttributes.addFlashAttribute(&quot;error&quot;, &quot;Không thể tạo bài viết: &quot; + e.getMessage());&#10;            return &quot;redirect:/web/create-post?userId=&quot; + userId;&#10;        }&#10;    }&#10;&#10;    @GetMapping(&quot;/test&quot;)&#10;    public String test(Model model) {&#10;        model.addAttribute(&quot;message&quot;, &quot;Spring MVC đã được cấu hình thành công!&quot;);&#10;        return &quot;test&quot;;&#10;    }&#10;&#10;    @GetMapping(&quot;/posts/user/{userId}&quot;)&#10;    public String showUserPosts(@PathVariable int userId, Model model) {&#10;        try {&#10;            List&lt;PostResponse&gt; posts = postService.getUserPosts(userId);&#10;            User user = userService.getUserById(userId);&#10;            model.addAttribute(&quot;posts&quot;, posts);&#10;            model.addAttribute(&quot;user&quot;, user);&#10;            return &quot;posts&quot;;&#10;        } catch (Exception e) {&#10;            model.addAttribute(&quot;error&quot;, &quot;Không thể tải bài viết của người dùng&quot;);&#10;            return &quot;error&quot;;&#10;        }&#10;    }&#10;&#10;    @GetMapping(&quot;/user/edit/{userId}&quot;)&#10;    public String editUserForm(@PathVariable int userId, Model model) {&#10;        try {&#10;            User user = userService.getUserById(userId);&#10;            if (user == null) {&#10;                model.addAttribute(&quot;error&quot;, &quot;Không tìm thấy người dùng với ID: &quot; + userId);&#10;                return &quot;error&quot;;&#10;            }&#10;            model.addAttribute(&quot;user&quot;, user);&#10;            return &quot;edit-user&quot;;&#10;        } catch (Exception e) {&#10;            model.addAttribute(&quot;error&quot;, &quot;Không thể tải thông tin người dùng: &quot; + e.getMessage());&#10;            return &quot;error&quot;;&#10;        }&#10;    }&#10;&#10;    @PostMapping(&quot;/user/edit/{userId}&quot;)&#10;    public String updateUser(@PathVariable int userId,&#10;                           @RequestParam(&quot;userName&quot;) String userName,&#10;                           @RequestParam(&quot;role&quot;) String role,&#10;                           RedirectAttributes redirectAttributes) {&#10;        try {&#10;            User user = userService.getUserById(userId);&#10;            if (user == null) {&#10;                redirectAttributes.addFlashAttribute(&quot;error&quot;, &quot;Không tìm thấy người dùng&quot;);&#10;                return &quot;redirect:/web/users&quot;;&#10;            }&#10;            &#10;            user.setUserName(userName);&#10;            user.setRole(role);&#10;            userService.update(user);&#10;            &#10;            redirectAttributes.addFlashAttribute(&quot;success&quot;, &quot;Cập nhật thông tin người dùng thành công!&quot;);&#10;            return &quot;redirect:/web/profile/&quot; + userId;&#10;        } catch (Exception e) {&#10;            redirectAttributes.addFlashAttribute(&quot;error&quot;, &quot;Không thể cập nhật người dùng: &quot; + e.getMessage());&#10;            return &quot;redirect:/web/user/edit/&quot; + userId;&#10;        }&#10;    }&#10;&#10;    @PostMapping(&quot;/user/delete/{userId}&quot;)&#10;    public String deleteUser(@PathVariable int userId, RedirectAttributes redirectAttributes) {&#10;        try {&#10;            User user = userService.getUserById(userId);&#10;            if (user == null) {&#10;                redirectAttributes.addFlashAttribute(&quot;error&quot;, &quot;Không tìm thấy người dùng&quot;);&#10;                return &quot;redirect:/web/users&quot;;&#10;            }&#10;            &#10;            userService.delete(userId);&#10;            redirectAttributes.addFlashAttribute(&quot;success&quot;, &quot;Đã xóa người dùng &quot; + user.getUserName() + &quot; thành công!&quot;);&#10;            return &quot;redirect:/web/users&quot;;&#10;        } catch (Exception e) {&#10;            redirectAttributes.addFlashAttribute(&quot;error&quot;, &quot;Không thể xóa người dùng: &quot; + e.getMessage());&#10;            return &quot;redirect:/web/profile/&quot; + userId;&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/user/chatappdemo/entity/Follow.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/user/chatappdemo/entity/Follow.java" />
              <option name="originalContent" value="package com.user.chatappdemo.entity;&#10;&#10;import jakarta.persistence.*;&#10;import lombok.AllArgsConstructor;&#10;import lombok.Getter;&#10;import lombok.NoArgsConstructor;&#10;import lombok.Setter;&#10;&#10;import java.time.LocalDateTime;&#10;&#10;@Entity&#10;@Table(name = &quot;follows&quot;)&#10;@Getter&#10;@Setter&#10;@NoArgsConstructor&#10;@AllArgsConstructor&#10;public class Follow {&#10;&#10;    @EmbeddedId&#10;    private FollowId id;&#10;&#10;    @ManyToOne&#10;    @MapsId(&quot;followerId&quot;)&#10;    @JoinColumn(name = &quot;following_user_id&quot;)&#10;    private User follower;&#10;&#10;    @ManyToOne&#10;    @MapsId(&quot;followedId&quot;)&#10;    @JoinColumn(name = &quot;followed_user_id&quot;)&#10;    private User followed;&#10;&#10;    @Column(name = &quot;created_at&quot;, columnDefinition = &quot;TIMESTAMP&quot;)&#10;    private LocalDateTime createdAt = LocalDateTime.now();&#10;&#10;    public void setId(FollowId id) {&#10;        this.id = id;&#10;    }&#10;&#10;    public void setFollower(User follower) {&#10;        this.follower = follower;&#10;    }&#10;&#10;    public void setFollowed(User followed) {&#10;        this.followed = followed;&#10;    }&#10;&#10;    public void setCreatedAt(LocalDateTime createdAt) {&#10;        this.createdAt = createdAt;&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.user.chatappdemo.entity;&#13;&#10;&#13;&#10;import jakarta.persistence.*;&#13;&#10;import lombok.AllArgsConstructor;&#13;&#10;import lombok.Getter;&#13;&#10;import lombok.NoArgsConstructor;&#13;&#10;import lombok.Setter;&#13;&#10;&#13;&#10;import java.time.LocalDateTime;&#13;&#10;&#13;&#10;@Entity&#13;&#10;@Table(name = &quot;follows&quot;)&#13;&#10;@Getter&#13;&#10;@Setter&#13;&#10;@NoArgsConstructor&#13;&#10;@AllArgsConstructor&#13;&#10;public class Follow {&#13;&#10;&#13;&#10;    @EmbeddedId&#13;&#10;    private FollowId id;&#13;&#10;&#13;&#10;    @ManyToOne&#13;&#10;    @MapsId(&quot;followerId&quot;)&#13;&#10;    @JoinColumn(name = &quot;following_user_id&quot;)&#13;&#10;    private User follower;&#13;&#10;&#13;&#10;    @ManyToOne&#13;&#10;    @MapsId(&quot;followedId&quot;)&#13;&#10;    @JoinColumn(name = &quot;followed_user_id&quot;)&#13;&#10;    private User followed;&#13;&#10;&#13;&#10;    @Column(name = &quot;created_at&quot;, columnDefinition = &quot;TIMESTAMP&quot;)&#13;&#10;    private LocalDateTime createdAt = LocalDateTime.now();&#13;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/user/chatappdemo/entity/FollowId.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/user/chatappdemo/entity/FollowId.java" />
              <option name="originalContent" value="package com.user.chatappdemo.entity;&#10;&#10;&#10;import jakarta.persistence.Column;&#10;import jakarta.persistence.Embeddable;&#10;&#10;import java.io.Serializable;&#10;&#10;@Embeddable&#10;public class FollowId implements Serializable {&#10;    @Column(name = &quot;following_user_id&quot;)&#10;    private Integer followerId;&#10;&#10;    @Column(name = &quot;followed_user_id&quot;)&#10;    private Integer followedId;&#10;}&#10;" />
              <option name="updatedContent" value="package com.user.chatappdemo.entity;&#13;&#10;&#13;&#10;&#13;&#10;import jakarta.persistence.Column;&#13;&#10;import jakarta.persistence.Embeddable;&#13;&#10;import lombok.AllArgsConstructor;&#13;&#10;import lombok.Getter;&#13;&#10;import lombok.NoArgsConstructor;&#13;&#10;import lombok.Setter;&#13;&#10;&#13;&#10;import java.io.Serializable;&#13;&#10;import java.util.Objects;&#13;&#10;&#13;&#10;@Embeddable&#13;&#10;@Getter&#13;&#10;@Setter&#13;&#10;@NoArgsConstructor&#13;&#10;@AllArgsConstructor&#13;&#10;public class FollowId implements Serializable {&#13;&#10;    @Column(name = &quot;following_user_id&quot;)&#13;&#10;    private Integer followerId;&#13;&#10;&#13;&#10;    @Column(name = &quot;followed_user_id&quot;)&#13;&#10;    private Integer followedId;&#13;&#10;&#13;&#10;    @Override&#13;&#10;    public boolean equals(Object o) {&#13;&#10;        if (this == o) return true;&#13;&#10;        if (o == null || getClass() != o.getClass()) return false;&#13;&#10;        FollowId followId = (FollowId) o;&#13;&#10;        return Objects.equals(followerId, followId.followerId) &amp;&amp;&#13;&#10;               Objects.equals(followedId, followId.followedId);&#13;&#10;    }&#13;&#10;&#13;&#10;    @Override&#13;&#10;    public int hashCode() {&#13;&#10;        return Objects.hash(followerId, followedId);&#13;&#10;    }&#13;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/user/chatappdemo/entity/Post.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/user/chatappdemo/entity/Post.java" />
              <option name="originalContent" value="package com.user.chatappdemo.entity;&#10;&#10;import jakarta.persistence.*;&#10;import lombok.AllArgsConstructor;&#10;import lombok.Getter;&#10;import lombok.NoArgsConstructor;&#10;import lombok.Setter;&#10;&#10;import java.time.LocalDateTime;&#10;&#10;@Entity&#10;@Table(name = &quot;posts&quot;)&#10;@Getter&#10;@Setter&#10;@NoArgsConstructor&#10;@AllArgsConstructor&#10;public class Post {&#10;    @Id&#10;    @GeneratedValue(strategy = GenerationType.IDENTITY)&#10;    private int id;&#10;    @Column(name = &quot;title&quot;)&#10;    private String title;&#10;    @Column(name = &quot;body&quot;, columnDefinition = &quot;TEXT&quot;)&#10;    private String body;&#10;    @Column(name = &quot;status&quot;)&#10;    private String status;&#10;    @Column(name = &quot;create_at&quot;, columnDefinition = &quot;TIMESTAMP&quot;)&#10;    private LocalDateTime createAt;&#10;    @ManyToOne&#10;    @JoinColumn(name = &quot;user_id&quot;)&#10;    private User user;&#10;&#10;    public void setId(int id) {&#10;        this.id = id;&#10;    }&#10;&#10;    public void setTitle(String title) {&#10;        this.title = title;&#10;    }&#10;&#10;    public void setBody(String body) {&#10;        this.body = body;&#10;    }&#10;&#10;    public void setStatus(String status) {&#10;        this.status = status;&#10;    }&#10;&#10;    public void setCreateAt(LocalDateTime createAt) {&#10;        this.createAt = createAt;&#10;    }&#10;&#10;    public void setUser(User user) {&#10;        this.user = user;&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.user.chatappdemo.entity;&#13;&#10;&#13;&#10;import jakarta.persistence.*;&#13;&#10;import lombok.AllArgsConstructor;&#13;&#10;import lombok.Getter;&#13;&#10;import lombok.NoArgsConstructor;&#13;&#10;import lombok.Setter;&#13;&#10;&#13;&#10;import java.time.LocalDateTime;&#13;&#10;&#13;&#10;@Entity&#13;&#10;@Table(name = &quot;posts&quot;)&#13;&#10;@Getter&#13;&#10;@Setter&#13;&#10;@NoArgsConstructor&#13;&#10;@AllArgsConstructor&#13;&#10;public class Post {&#13;&#10;    @Id&#13;&#10;    @GeneratedValue(strategy = GenerationType.IDENTITY)&#13;&#10;    private int id;&#13;&#10;    @Column(name = &quot;title&quot;)&#13;&#10;    private String title;&#13;&#10;    @Column(name = &quot;body&quot;, columnDefinition = &quot;TEXT&quot;)&#13;&#10;    private String body;&#13;&#10;    @Column(name = &quot;status&quot;)&#13;&#10;    private String status;&#13;&#10;    @Column(name = &quot;create_at&quot;, columnDefinition = &quot;TIMESTAMP&quot;)&#13;&#10;    private LocalDateTime createAt;&#13;&#10;    @ManyToOne&#13;&#10;    @JoinColumn(name = &quot;user_id&quot;)&#13;&#10;    private User user;&#13;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/user/chatappdemo/repository/FollowRepository.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/user/chatappdemo/repository/FollowRepository.java" />
              <option name="originalContent" value="package com.user.chatappdemo.repository;&#10;&#10;import com.user.chatappdemo.entity.Follow;&#10;import org.springframework.data.jpa.repository.JpaRepository;&#10;import org.springframework.data.jpa.repository.Query;&#10;import org.springframework.data.repository.query.Param;&#10;import org.springframework.stereotype.Repository;&#10;&#10;import java.util.List;&#10;&#10;@Repository&#10;public interface FollowRepository extends JpaRepository&lt;Follow, Integer&gt; {&#10;&#10;    @Query(&quot;SELECT f FROM Follow f WHERE f.followed.id = :userId&quot;)&#10;    List&lt;Follow&gt; findFollowersByUserId(@Param(&quot;userId&quot;) int userId);&#10;&#10;    @Query(&quot;SELECT f FROM Follow f WHERE f.follower.id = :userId&quot;)&#10;    List&lt;Follow&gt; findFollowingsByUserId(@Param(&quot;userId&quot;) int userId);&#10;}&#10;" />
              <option name="updatedContent" value="package com.user.chatappdemo.repository;&#13;&#10;&#13;&#10;import com.user.chatappdemo.entity.Follow;&#13;&#10;import org.hibernate.SessionFactory;&#13;&#10;import org.springframework.beans.factory.annotation.Autowired;&#13;&#10;import org.springframework.stereotype.Repository;&#13;&#10;&#13;&#10;import java.util.List;&#13;&#10;&#13;&#10;@Repository&#13;&#10;public class FollowRepository {&#13;&#10;&#13;&#10;    @Autowired&#13;&#10;    private SessionFactory sessionFactory;&#13;&#10;&#13;&#10;    public List&lt;Follow&gt; findFollowersByUserId(int userId) {&#13;&#10;        return sessionFactory.getCurrentSession()&#13;&#10;                .createQuery(&quot;FROM Follow WHERE followed.id = :userId&quot;, Follow.class)&#13;&#10;                .setParameter(&quot;userId&quot;, userId)&#13;&#10;                .getResultList();&#13;&#10;    }&#13;&#10;&#13;&#10;    public List&lt;Follow&gt; findFollowingsByUserId(int userId) {&#13;&#10;        return sessionFactory.getCurrentSession()&#13;&#10;                .createQuery(&quot;FROM Follow WHERE follower.id = :userId&quot;, Follow.class)&#13;&#10;                .setParameter(&quot;userId&quot;, userId)&#13;&#10;                .getResultList();&#13;&#10;    }&#13;&#10;&#13;&#10;    public Follow save(Follow follow) {&#13;&#10;        sessionFactory.getCurrentSession().saveOrUpdate(follow);&#13;&#10;        return follow;&#13;&#10;    }&#13;&#10;&#13;&#10;    public void delete(Follow follow) {&#13;&#10;        sessionFactory.getCurrentSession().delete(follow);&#13;&#10;    }&#13;&#10;&#13;&#10;    public Follow findByFollowerAndFollowed(int followerId, int followedId) {&#13;&#10;        return sessionFactory.getCurrentSession()&#13;&#10;                .createQuery(&quot;FROM Follow WHERE follower.id = :followerId AND followed.id = :followedId&quot;, Follow.class)&#13;&#10;                .setParameter(&quot;followerId&quot;, followerId)&#13;&#10;                .setParameter(&quot;followedId&quot;, followedId)&#13;&#10;                .uniqueResult();&#13;&#10;    }&#13;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/user/chatappdemo/repository/PostRepository.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/user/chatappdemo/repository/PostRepository.java" />
              <option name="originalContent" value="package com.user.chatappdemo.repository;&#10;&#10;import com.user.chatappdemo.entity.Post;&#10;import org.springframework.data.jpa.repository.JpaRepository;&#10;import org.springframework.stereotype.Repository;&#10;&#10;import java.util.List;&#10;&#10;@Repository&#10;public interface PostRepository extends JpaRepository&lt;Post, Integer&gt; {&#10;    List&lt;Post&gt; findByUserId(int userId);&#10;}&#10;" />
              <option name="updatedContent" value="package com.user.chatappdemo.repository;&#13;&#10;&#13;&#10;import com.user.chatappdemo.entity.Post;&#13;&#10;import org.hibernate.SessionFactory;&#13;&#10;import org.springframework.beans.factory.annotation.Autowired;&#13;&#10;import org.springframework.stereotype.Repository;&#13;&#10;&#13;&#10;import java.util.List;&#13;&#10;&#13;&#10;@Repository&#13;&#10;public class PostRepository {&#13;&#10;&#13;&#10;    @Autowired&#13;&#10;    private SessionFactory sessionFactory;&#13;&#10;&#13;&#10;    public List&lt;Post&gt; findAll() {&#13;&#10;        return sessionFactory.getCurrentSession()&#13;&#10;                .createQuery(&quot;FROM Post ORDER BY createAt DESC&quot;, Post.class)&#13;&#10;                .getResultList();&#13;&#10;    }&#13;&#10;&#13;&#10;    public Post findById(int id) {&#13;&#10;        return sessionFactory.getCurrentSession()&#13;&#10;                .get(Post.class, id);&#13;&#10;    }&#13;&#10;&#13;&#10;    public List&lt;Post&gt; findByUserId(int userId) {&#13;&#10;        return sessionFactory.getCurrentSession()&#13;&#10;                .createQuery(&quot;FROM Post WHERE user.id = :userId ORDER BY createAt DESC&quot;, Post.class)&#13;&#10;                .setParameter(&quot;userId&quot;, userId)&#13;&#10;                .getResultList();&#13;&#10;    }&#13;&#10;&#13;&#10;    public Post save(Post post) {&#13;&#10;        sessionFactory.getCurrentSession().saveOrUpdate(post);&#13;&#10;        return post;&#13;&#10;    }&#13;&#10;&#13;&#10;    public void deleteById(int id) {&#13;&#10;        Post post = findById(id);&#13;&#10;        if (post != null) {&#13;&#10;            sessionFactory.getCurrentSession().delete(post);&#13;&#10;        }&#13;&#10;    }&#13;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/user/chatappdemo/repository/UserRepository.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/user/chatappdemo/repository/UserRepository.java" />
              <option name="originalContent" value="package com.user.chatappdemo.repository;&#10;&#10;import com.user.chatappdemo.entity.User;&#10;import org.springframework.data.jpa.repository.JpaRepository;&#10;import org.springframework.stereotype.Repository;&#10;&#10;@Repository&#10;public interface UserRepository extends JpaRepository&lt;User, Integer&gt; {&#10;}&#10;" />
              <option name="updatedContent" value="package com.user.chatappdemo.repository;&#13;&#10;&#13;&#10;import com.user.chatappdemo.entity.User;&#13;&#10;import org.hibernate.SessionFactory;&#13;&#10;import org.springframework.beans.factory.annotation.Autowired;&#13;&#10;import org.springframework.stereotype.Repository;&#13;&#10;&#13;&#10;import java.util.List;&#13;&#10;&#13;&#10;@Repository&#13;&#10;public class UserRepository {&#13;&#10;&#13;&#10;    @Autowired&#13;&#10;    private SessionFactory sessionFactory;&#13;&#10;&#13;&#10;    public List&lt;User&gt; findAll() {&#13;&#10;        return sessionFactory.getCurrentSession()&#13;&#10;                .createQuery(&quot;FROM User&quot;, User.class)&#13;&#10;                .getResultList();&#13;&#10;    }&#13;&#10;&#13;&#10;    public User findById(int id) {&#13;&#10;        return sessionFactory.getCurrentSession()&#13;&#10;                .get(User.class, id);&#13;&#10;    }&#13;&#10;&#13;&#10;    public User save(User user) {&#13;&#10;        sessionFactory.getCurrentSession().saveOrUpdate(user);&#13;&#10;        return user;&#13;&#10;    }&#13;&#10;&#13;&#10;    public void deleteById(int id) {&#13;&#10;        User user = findById(id);&#13;&#10;        if (user != null) {&#13;&#10;            sessionFactory.getCurrentSession().delete(user);&#13;&#10;        }&#13;&#10;    }&#13;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/user/chatappdemo/service/impl/FollowServiceImpl.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/user/chatappdemo/service/impl/FollowServiceImpl.java" />
              <option name="originalContent" value="package com.user.chatappdemo.service.impl;&#10;&#10;import com.user.chatappdemo.dto.FollowerResponse;&#10;import com.user.chatappdemo.entity.Follow;&#10;import com.user.chatappdemo.entity.User;&#10;import com.user.chatappdemo.repository.FollowRepository;&#10;import com.user.chatappdemo.service.FollowService;&#10;import org.springframework.beans.factory.annotation.Autowired;&#10;import org.springframework.stereotype.Service;&#10;&#10;import java.time.LocalDateTime;&#10;import java.util.List;&#10;import java.util.stream.Collectors;&#10;&#10;@Service&#10;public class FollowServiceImpl implements FollowService {&#10;&#10;    @Autowired&#10;    private FollowRepository followRepository;&#10;&#10;    @Override&#10;    public List&lt;FollowerResponse&gt; getUserFollowers(int userId) {&#10;        List&lt;Follow&gt; followers = followRepository.findFollowersByUserId(userId);&#10;        return followers.stream()&#10;                .map(follow -&gt; convertToFollowerResponse(follow.getFollower(), follow.getCreatedAt()))&#10;                .collect(Collectors.toList());&#10;    }&#10;&#10;    @Override&#10;    public List&lt;FollowerResponse&gt; getUserFollowings(int userId) {&#10;        List&lt;Follow&gt; followings = followRepository.findFollowingsByUserId(userId);&#10;        return followings.stream()&#10;                .map(follow -&gt; convertToFollowerResponse(follow.getFollowed(), follow.getCreatedAt()))&#10;                .collect(Collectors.toList());&#10;    }&#10;&#10;    private FollowerResponse convertToFollowerResponse(User user, LocalDateTime followedAt) {&#10;        FollowerResponse response = new FollowerResponse();&#10;        response.setUserId(user.getId());&#10;        response.setUsername(user.getUserName());&#10;        response.setRole(user.getRole());&#10;        response.setFollowedAt(followedAt);&#10;        return response;&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.user.chatappdemo.service.impl;&#13;&#10;&#13;&#10;import com.user.chatappdemo.dto.FollowerResponse;&#13;&#10;import com.user.chatappdemo.entity.Follow;&#13;&#10;import com.user.chatappdemo.entity.User;&#13;&#10;import com.user.chatappdemo.repository.FollowRepository;&#13;&#10;import com.user.chatappdemo.service.FollowService;&#13;&#10;import org.springframework.beans.factory.annotation.Autowired;&#13;&#10;import org.springframework.stereotype.Service;&#13;&#10;import org.springframework.transaction.annotation.Transactional;&#13;&#10;&#13;&#10;import java.time.LocalDateTime;&#13;&#10;import java.util.List;&#13;&#10;import java.util.stream.Collectors;&#13;&#10;&#13;&#10;@Service&#13;&#10;@Transactional&#13;&#10;public class FollowServiceImpl implements FollowService {&#13;&#10;&#13;&#10;    @Autowired&#13;&#10;    private FollowRepository followRepository;&#13;&#10;&#13;&#10;    @Override&#13;&#10;    public List&lt;FollowerResponse&gt; getUserFollowers(int userId) {&#13;&#10;        try {&#13;&#10;            List&lt;Follow&gt; followers = followRepository.findFollowersByUserId(userId);&#13;&#10;            return followers.stream()&#13;&#10;                    .map(follow -&gt; convertToFollowerResponse(follow.getFollower(), follow.getCreatedAt()))&#13;&#10;                    .collect(Collectors.toList());&#13;&#10;        } catch (Exception e) {&#13;&#10;            // Return empty list if error occurs&#13;&#10;            return List.of();&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    @Override&#13;&#10;    public List&lt;FollowerResponse&gt; getUserFollowings(int userId) {&#13;&#10;        try {&#13;&#10;            List&lt;Follow&gt; followings = followRepository.findFollowingsByUserId(userId);&#13;&#10;            return followings.stream()&#13;&#10;                    .map(follow -&gt; convertToFollowerResponse(follow.getFollowed(), follow.getCreatedAt()))&#13;&#10;                    .collect(Collectors.toList());&#13;&#10;        } catch (Exception e) {&#13;&#10;            // Return empty list if error occurs&#13;&#10;            return List.of();&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    private FollowerResponse convertToFollowerResponse(User user, LocalDateTime followedAt) {&#13;&#10;        FollowerResponse response = new FollowerResponse();&#13;&#10;        response.setUserId(user.getId());&#13;&#10;        response.setUsername(user.getUserName());&#13;&#10;        response.setRole(user.getRole());&#13;&#10;        response.setFollowedAt(followedAt);&#13;&#10;        return response;&#13;&#10;    }&#13;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/user/chatappdemo/service/impl/PostServiceImpl.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/user/chatappdemo/service/impl/PostServiceImpl.java" />
              <option name="originalContent" value="package com.user.chatappdemo.service.impl;&#10;&#10;import com.user.chatappdemo.dto.CreatePostRequest;&#10;import com.user.chatappdemo.dto.PostResponse;&#10;import com.user.chatappdemo.entity.Post;&#10;import com.user.chatappdemo.entity.User;&#10;import com.user.chatappdemo.repository.PostRepository;&#10;import com.user.chatappdemo.repository.UserRepository;&#10;import com.user.chatappdemo.service.PostService;&#10;import org.springframework.beans.factory.annotation.Autowired;&#10;import org.springframework.stereotype.Service;&#10;&#10;import java.time.LocalDateTime;&#10;import java.util.List;&#10;import java.util.stream.Collectors;&#10;&#10;@Service&#10;public class PostServiceImpl implements PostService {&#10;&#10;    @Autowired&#10;    private PostRepository postRepository;&#10;&#10;    @Autowired&#10;    private UserRepository userRepository;&#10;&#10;    @Override&#10;    public PostResponse createPost(int userId, CreatePostRequest request) {&#10;        User user = userRepository.findById(userId)&#10;                .orElseThrow(() -&gt; new RuntimeException(&quot;User not found with id: &quot; + userId));&#10;&#10;        Post post = new Post();&#10;        post.setTitle(request.getTitle());&#10;        post.setBody(request.getBody());&#10;        post.setStatus(request.getStatus());&#10;        post.setCreateAt(LocalDateTime.now());&#10;        post.setUser(user);&#10;&#10;        Post savedPost = postRepository.save(post);&#10;&#10;        return convertToPostResponse(savedPost);&#10;    }&#10;&#10;    @Override&#10;    public List&lt;PostResponse&gt; getUserPosts(int userId) {&#10;        List&lt;Post&gt; posts = postRepository.findByUserId(userId);&#10;        return posts.stream()&#10;                .map(this::convertToPostResponse)&#10;                .collect(Collectors.toList());&#10;    }&#10;&#10;    @Override&#10;    public List&lt;PostResponse&gt; getAllPosts() {&#10;        List&lt;Post&gt; posts = postRepository.findAll();&#10;        return posts.stream()&#10;                .map(this::convertToPostResponse)&#10;                .collect(Collectors.toList());&#10;    }&#10;&#10;    private PostResponse convertToPostResponse(Post post) {&#10;        PostResponse response = new PostResponse();&#10;        response.setId(post.getId());&#10;        response.setTitle(post.getTitle());&#10;        response.setBody(post.getBody());&#10;        response.setStatus(post.getStatus());&#10;        response.setCreateAt(post.getCreateAt());&#10;        response.setUsername(post.getUser().getUserName());&#10;        response.setUserId(post.getUser().getId());&#10;        return response;&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.user.chatappdemo.service.impl;&#13;&#10;&#13;&#10;import com.user.chatappdemo.dto.CreatePostRequest;&#13;&#10;import com.user.chatappdemo.dto.PostResponse;&#13;&#10;import com.user.chatappdemo.entity.Post;&#13;&#10;import com.user.chatappdemo.entity.User;&#13;&#10;import com.user.chatappdemo.repository.PostRepository;&#13;&#10;import com.user.chatappdemo.repository.UserRepository;&#13;&#10;import com.user.chatappdemo.service.PostService;&#13;&#10;import org.springframework.beans.factory.annotation.Autowired;&#13;&#10;import org.springframework.stereotype.Service;&#13;&#10;import org.springframework.transaction.annotation.Transactional;&#13;&#10;&#13;&#10;import java.time.LocalDateTime;&#13;&#10;import java.util.List;&#13;&#10;import java.util.stream.Collectors;&#13;&#10;&#13;&#10;@Service&#13;&#10;@Transactional&#13;&#10;public class PostServiceImpl implements PostService {&#13;&#10;&#13;&#10;    @Autowired&#13;&#10;    private PostRepository postRepository;&#13;&#10;&#13;&#10;    @Autowired&#13;&#10;    private UserRepository userRepository;&#13;&#10;&#13;&#10;    @Override&#13;&#10;    public PostResponse createPost(int userId, CreatePostRequest request) {&#13;&#10;        User user = userRepository.findById(userId);&#13;&#10;        if (user == null) {&#13;&#10;            throw new RuntimeException(&quot;User not found with id: &quot; + userId);&#13;&#10;        }&#13;&#10;&#13;&#10;        Post post = new Post();&#13;&#10;        post.setTitle(request.getTitle());&#13;&#10;        post.setBody(request.getBody());&#13;&#10;        post.setStatus(request.getStatus());&#13;&#10;        post.setCreateAt(LocalDateTime.now());&#13;&#10;        post.setUser(user);&#13;&#10;&#13;&#10;        Post savedPost = postRepository.save(post);&#13;&#10;&#13;&#10;        return convertToPostResponse(savedPost);&#13;&#10;    }&#13;&#10;&#13;&#10;    @Override&#13;&#10;    public List&lt;PostResponse&gt; getUserPosts(int userId) {&#13;&#10;        List&lt;Post&gt; posts = postRepository.findByUserId(userId);&#13;&#10;        return posts.stream()&#13;&#10;                .map(this::convertToPostResponse)&#13;&#10;                .collect(Collectors.toList());&#13;&#10;    }&#13;&#10;&#13;&#10;    @Override&#13;&#10;    public List&lt;PostResponse&gt; getAllPosts() {&#13;&#10;        List&lt;Post&gt; posts = postRepository.findAll();&#13;&#10;        return posts.stream()&#13;&#10;                .map(this::convertToPostResponse)&#13;&#10;                .collect(Collectors.toList());&#13;&#10;    }&#13;&#10;&#13;&#10;    private PostResponse convertToPostResponse(Post post) {&#13;&#10;        PostResponse response = new PostResponse();&#13;&#10;        response.setId(post.getId());&#13;&#10;        response.setTitle(post.getTitle());&#13;&#10;        response.setBody(post.getBody());&#13;&#10;        response.setStatus(post.getStatus());&#13;&#10;        response.setCreateAt(post.getCreateAt());&#13;&#10;        response.setUsername(post.getUser().getUserName());&#13;&#10;        response.setUserId(post.getUser().getId());&#13;&#10;        return response;&#13;&#10;    }&#13;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/user/chatappdemo/service/impl/UserServiceImpl.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/user/chatappdemo/service/impl/UserServiceImpl.java" />
              <option name="originalContent" value="package com.user.chatappdemo.service.impl;&#10;&#10;import com.user.chatappdemo.entity.User;&#10;import com.user.chatappdemo.repository.UserRepository;&#10;import com.user.chatappdemo.service.UserService;&#10;import org.springframework.beans.factory.annotation.Autowired;&#10;import org.springframework.stereotype.Service;&#10;import org.springframework.transaction.annotation.Transactional;&#10;&#10;import java.util.List;&#10;&#10;@Service&#10;@Transactional&#10;public class UserServiceImpl implements UserService {&#10;&#10;    @Autowired&#10;    private UserRepository userRepository;&#10;&#10;    @Override&#10;    public List&lt;User&gt; getAllUsers() {&#10;        return userRepository.findAll();&#10;    }&#10;&#10;    @Override&#10;    public User getUserById(int id) {&#10;        return userRepository.findById(id).orElse(null);&#10;    }&#10;&#10;    @Override&#10;    public User add(User user) {&#10;        return userRepository.save(user);&#10;    }&#10;&#10;    @Override&#10;    public User update(User user) {&#10;        return userRepository.save(user);&#10;    }&#10;&#10;    @Override&#10;    public void delete(int id) {&#10;        userRepository.deleteById(id);&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.user.chatappdemo.service.impl;&#10;&#10;import com.user.chatappdemo.entity.User;&#10;import com.user.chatappdemo.repository.UserRepository;&#10;import com.user.chatappdemo.service.UserService;&#10;import org.springframework.beans.factory.annotation.Autowired;&#10;import org.springframework.stereotype.Service;&#10;import org.springframework.transaction.annotation.Transactional;&#10;&#10;import java.util.List;&#10;&#10;@Service&#10;@Transactional&#10;public class UserServiceImpl implements UserService {&#10;&#10;    @Autowired&#10;    private UserRepository userRepository;&#10;&#10;    @Override&#10;    public List&lt;User&gt; getAllUsers() {&#10;        return userRepository.findAll();&#10;    }&#10;&#10;    @Override&#10;    public User getUserById(int id) {&#10;        return userRepository.findById(id);&#10;    }&#10;&#10;    @Override&#10;    public User add(User user) {&#10;        return userRepository.save(user);&#10;    }&#10;&#10;    @Override&#10;    public User update(User user) {&#10;        return userRepository.save(user);&#10;    }&#10;&#10;    @Override&#10;    public void delete(int id) {&#10;        userRepository.deleteById(id);&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/resources/database.properties">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/resources/database.properties" />
              <option name="originalContent" value="# Database Configuration&#10;db.driver=com.mysql.cj.jdbc.Driver&#10;db.url=jdbc:mysql://localhost:3306/chatapp?useSSL=false&amp;serverTimezone=UTC&amp;allowPublicKeyRetrieval=true&#10;db.username=root&#10;db.password=123456&#10;# Connection Pool Settings&#10;db.initialSize=5&#10;db.maxActive=20&#10;db.maxIdle=10&#10;db.minIdle=5&#10;" />
              <option name="updatedContent" value="# Database Configuration&#10;db.driver=com.mysql.cj.jdbc.Driver&#10;db.url=jdbc:mysql://localhost:3306/chatapp?useSSL=false&amp;serverTimezone=UTC&amp;allowPublicKeyRetrieval=true&#10;db.username=root&#10;db.password=123456&#10;&#10;# C3P0 Connection Pool Settings&#10;db.maxPoolSize=20&#10;db.minPoolSize=5&#10;db.initialPoolSize=5&#10;db.maxIdleTime=300&#10;db.acquireIncrement=3&#10;db.maxStatements=100" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/webapp/WEB-INF/applicationContext.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/webapp/WEB-INF/applicationContext.xml" />
              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;&#10;       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&#10;       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;&#10;       xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;&#10;       xsi:schemaLocation=&quot;&#10;       http://www.springframework.org/schema/beans&#10;       http://www.springframework.org/schema/beans/spring-beans.xsd&#10;       http://www.springframework.org/schema/context&#10;       http://www.springframework.org/schema/context/spring-context.xsd&#10;       http://www.springframework.org/schema/tx&#10;       http://www.springframework.org/schema/tx/spring-tx.xsd&quot;&gt;&#10;&#10;    &lt;!-- Enable component scanning for service and repository layers --&gt;&#10;    &lt;context:component-scan base-package=&quot;com.user.chatappdemo&quot;&gt;&#10;        &lt;context:exclude-filter type=&quot;annotation&quot;&#10;                                expression=&quot;org.springframework.stereotype.Controller&quot;/&gt;&#10;    &lt;/context:component-scan&gt;&#10;&#10;    &lt;!-- Property placeholder --&gt;&#10;    &lt;context:property-placeholder location=&quot;classpath:database.properties&quot;&#10;                                  ignore-unresolvable=&quot;true&quot;/&gt;&#10;&#10;    &lt;!-- DataSource Configuration --&gt;&#10;    &lt;bean id=&quot;dataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot; destroy-method=&quot;close&quot;&gt;&#10;        &lt;property name=&quot;driverClass&quot; value=&quot;${db.driver:com.mysql.cj.jdbc.Driver}&quot;/&gt;&#10;        &lt;property name=&quot;jdbcUrl&quot;&#10;                  value=&quot;${db.url:jdbc:mysql://localhost:3306/chatapp?useSSL=false&amp;amp;serverTimezone=UTC}&quot;/&gt;&#10;        &lt;property name=&quot;user&quot; value=&quot;${db.username:root}&quot;/&gt;&#10;        &lt;property name=&quot;password&quot; value=&quot;${db.password:}&quot;/&gt;&#10;        &lt;property name=&quot;maxPoolSize&quot; value=&quot;10&quot;/&gt;&#10;        &lt;property name=&quot;minPoolSize&quot; value=&quot;2&quot;/&gt;&#10;        &lt;property name=&quot;initialPoolSize&quot; value=&quot;2&quot;/&gt;&#10;        &lt;property name=&quot;maxIdleTime&quot; value=&quot;300&quot;/&gt;&#10;    &lt;/bean&gt;&#10;&#10;    &lt;!-- Hibernate SessionFactory --&gt;&#10;    &lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;&#10;        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;&#10;        &lt;property name=&quot;packagesToScan&quot; value=&quot;com.user.chatappdemo.entity&quot;/&gt;&#10;        &lt;property name=&quot;hibernateProperties&quot;&gt;&#10;            &lt;props&gt;&#10;                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL8Dialect&lt;/prop&gt;&#10;                &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/prop&gt;&#10;                &lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;&#10;                &lt;prop key=&quot;hibernate.format_sql&quot;&gt;true&lt;/prop&gt;&#10;                &lt;prop key=&quot;hibernate.connection.CharSet&quot;&gt;utf8&lt;/prop&gt;&#10;                &lt;prop key=&quot;hibernate.connection.characterEncoding&quot;&gt;utf8&lt;/prop&gt;&#10;                &lt;prop key=&quot;hibernate.connection.useUnicode&quot;&gt;true&lt;/prop&gt;&#10;            &lt;/props&gt;&#10;        &lt;/property&gt;&#10;    &lt;/bean&gt;&#10;&#10;    &lt;!-- Transaction Manager --&gt;&#10;    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot;&gt;&#10;        &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot;/&gt;&#10;    &lt;/bean&gt;&#10;&#10;    &lt;!-- Enable annotation-driven transactions --&gt;&#10;    &lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;/&gt;&#10;&#10;&lt;/beans&gt;&#10;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;&#10;       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&#10;       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;&#10;       xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;&#10;       xsi:schemaLocation=&quot;&#10;       http://www.springframework.org/schema/beans&#10;       http://www.springframework.org/schema/beans/spring-beans.xsd&#10;       http://www.springframework.org/schema/context&#10;       http://www.springframework.org/schema/context/spring-context.xsd&#10;       http://www.springframework.org/schema/tx&#10;       http://www.springframework.org/schema/tx/spring-tx.xsd&quot;&gt;&#10;&#10;    &lt;!-- Enable component scanning for service and repository layers --&gt;&#10;    &lt;context:component-scan base-package=&quot;com.user.chatappdemo&quot;&gt;&#10;        &lt;context:exclude-filter type=&quot;annotation&quot;&#10;                                expression=&quot;org.springframework.stereotype.Controller&quot;/&gt;&#10;    &lt;/context:component-scan&gt;&#10;&#10;    &lt;!-- Property placeholder --&gt;&#10;    &lt;context:property-placeholder location=&quot;classpath:database.properties&quot;&#10;                                  ignore-unresolvable=&quot;true&quot;/&gt;&#10;&#10;    &lt;!-- DataSource Configuration --&gt;&#10;    &lt;bean id=&quot;dataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot; destroy-method=&quot;close&quot;&gt;&#10;        &lt;property name=&quot;driverClass&quot; value=&quot;${db.driver:com.mysql.cj.jdbc.Driver}&quot;/&gt;&#10;        &lt;property name=&quot;jdbcUrl&quot;&#10;                  value=&quot;${db.url:jdbc:mysql://localhost:3306/chatapp?useSSL=false&amp;amp;serverTimezone=UTC}&quot;/&gt;&#10;        &lt;property name=&quot;user&quot; value=&quot;${db.username:root}&quot;/&gt;&#10;        &lt;property name=&quot;password&quot; value=&quot;${db.password:}&quot;/&gt;&#10;        &lt;property name=&quot;maxPoolSize&quot; value=&quot;10&quot;/&gt;&#10;        &lt;property name=&quot;minPoolSize&quot; value=&quot;2&quot;/&gt;&#10;        &lt;property name=&quot;initialPoolSize&quot; value=&quot;2&quot;/&gt;&#10;        &lt;property name=&quot;maxIdleTime&quot; value=&quot;300&quot;/&gt;&#10;    &lt;/bean&gt;&#10;&#10;    &lt;!-- Hibernate SessionFactory --&gt;&#10;    &lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;&#10;        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;&#10;        &lt;property name=&quot;packagesToScan&quot; value=&quot;com.user.chatappdemo.entity&quot;/&gt;&#10;        &lt;property name=&quot;hibernateProperties&quot;&gt;&#10;            &lt;props&gt;&#10;                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL8Dialect&lt;/prop&gt;&#10;                &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/prop&gt;&#10;                &lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;&#10;                &lt;prop key=&quot;hibernate.format_sql&quot;&gt;true&lt;/prop&gt;&#10;                &lt;prop key=&quot;hibernate.connection.CharSet&quot;&gt;utf8&lt;/prop&gt;&#10;                &lt;prop key=&quot;hibernate.connection.characterEncoding&quot;&gt;utf8&lt;/prop&gt;&#10;                &lt;prop key=&quot;hibernate.connection.useUnicode&quot;&gt;true&lt;/prop&gt;&#10;            &lt;/props&gt;&#10;        &lt;/property&gt;&#10;    &lt;/bean&gt;&#10;&#10;    &lt;!-- Transaction Manager --&gt;&#10;    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot;&gt;&#10;        &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot;/&gt;&#10;    &lt;/bean&gt;&#10;&#10;    &lt;!-- Enable annotation-driven transactions --&gt;&#10;    &lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;/&gt;&#10;&#10;&lt;/beans&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/webapp/WEB-INF/views/create-post.jsp">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/webapp/WEB-INF/views/create-post.jsp" />
              <option name="originalContent" value="&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;&#10;&lt;%@ taglib uri=&quot;jakarta.tags.core&quot; prefix=&quot;c&quot; %&gt;&#10;&lt;!DOCTYPE html&gt;&#10;&lt;html lang=&quot;vi&quot;&gt;&#10;&lt;head&gt;&#10;    &lt;meta charset=&quot;UTF-8&quot;&gt;&#10;    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;&#10;    &lt;title&gt;Tạo bài viết - Chat App Demo&lt;/title&gt;&#10;    &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;&#10;    &lt;link href=&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css&quot; rel=&quot;stylesheet&quot;&gt;&#10;    &lt;link rel=&quot;stylesheet&quot; href=&quot;${pageContext.request.contextPath}/static/css/style.css&quot;&gt;&#10;    &lt;style&gt;&#10;        .sidebar {&#10;            min-height: 100vh;&#10;            background-color: #f8f9fa;&#10;        }&#10;    &lt;/style&gt;&#10;&lt;/head&gt;&#10;&lt;body&gt;&#10;    &lt;div class=&quot;container-fluid&quot;&gt;&#10;        &lt;div class=&quot;row&quot;&gt;&#10;            &lt;!-- Sidebar --&gt;&#10;            &lt;nav class=&quot;col-md-3 col-lg-2 d-md-block sidebar collapse&quot;&gt;&#10;                &lt;div class=&quot;position-sticky pt-3&quot;&gt;&#10;                    &lt;h5 class=&quot;text-center mb-4&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-comments&quot;&gt;&lt;/i&gt; Chat App Demo&#10;                    &lt;/h5&gt;&#10;                    &lt;ul class=&quot;nav flex-column&quot;&gt;&#10;                        &lt;li class=&quot;nav-item&quot;&gt;&#10;                            &lt;a class=&quot;nav-link&quot; href=&quot;${pageContext.request.contextPath}/web/&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-home&quot;&gt;&lt;/i&gt; Trang chủ&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                        &lt;li class=&quot;nav-item&quot;&gt;&#10;                            &lt;a class=&quot;nav-link&quot; href=&quot;${pageContext.request.contextPath}/web/posts&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-newspaper&quot;&gt;&lt;/i&gt; Tất cả bài viết&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                        &lt;li class=&quot;nav-item&quot;&gt;&#10;                            &lt;a class=&quot;nav-link&quot; href=&quot;${pageContext.request.contextPath}/web/users&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-users&quot;&gt;&lt;/i&gt; Người dùng&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                    &lt;/ul&gt;&#10;                &lt;/div&gt;&#10;            &lt;/nav&gt;&#10;&#10;            &lt;!-- Main content --&gt;&#10;            &lt;main class=&quot;col-md-9 ms-sm-auto col-lg-10 px-md-4&quot;&gt;&#10;                &lt;div class=&quot;d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom&quot;&gt;&#10;                    &lt;h1 class=&quot;h2&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-plus&quot;&gt;&lt;/i&gt; Tạo bài viết mới&#10;                    &lt;/h1&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;!-- Error/Success Messages --&gt;&#10;                &lt;c:if test=&quot;${not empty error}&quot;&gt;&#10;                    &lt;div class=&quot;alert alert-danger alert-dismissible fade show&quot; role=&quot;alert&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-exclamation-triangle&quot;&gt;&lt;/i&gt; ${error}&#10;                        &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;alert&quot;&gt;&lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/c:if&gt;&#10;&#10;                &lt;c:if test=&quot;${not empty success}&quot;&gt;&#10;                    &lt;div class=&quot;alert alert-success alert-dismissible fade show&quot; role=&quot;alert&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-check-circle&quot;&gt;&lt;/i&gt; ${success}&#10;                        &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;alert&quot;&gt;&lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/c:if&gt;&#10;&#10;                &lt;!-- Create Post Form --&gt;&#10;                &lt;div class=&quot;row justify-content-center&quot;&gt;&#10;                    &lt;div class=&quot;col-lg-8&quot;&gt;&#10;                        &lt;div class=&quot;card&quot;&gt;&#10;                            &lt;div class=&quot;card-header&quot;&gt;&#10;                                &lt;h5 class=&quot;card-title mb-0&quot;&gt;&#10;                                    &lt;i class=&quot;fas fa-edit&quot;&gt;&lt;/i&gt; Thông tin bài viết&#10;                                &lt;/h5&gt;&#10;                            &lt;/div&gt;&#10;                            &lt;div class=&quot;card-body&quot;&gt;&#10;                                &lt;form method=&quot;post&quot; action=&quot;${pageContext.request.contextPath}/web/create-post&quot;&gt;&#10;                                    &lt;!-- Hidden field for userId --&gt;&#10;                                    &lt;input type=&quot;hidden&quot; name=&quot;userId&quot; value=&quot;${param.userId}&quot;&gt;&#10;&#10;                                    &lt;div class=&quot;mb-3&quot;&gt;&#10;                                        &lt;label class=&quot;form-label&quot;&gt;&#10;                                            &lt;i class=&quot;fas fa-user&quot;&gt;&lt;/i&gt; Người tạo bài viết&#10;                                        &lt;/label&gt;&#10;                                        &lt;div class=&quot;form-control-plaintext bg-light p-2 rounded&quot;&gt;&#10;                                            &lt;strong&gt;User ID: ${param.userId}&lt;/strong&gt;&#10;                                            &lt;div class=&quot;form-text&quot;&gt;Bài viết sẽ được tạo bởi người dùng này&lt;/div&gt;&#10;                                        &lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;&#10;                                    &lt;div class=&quot;mb-3&quot;&gt;&#10;                                        &lt;label for=&quot;title&quot; class=&quot;form-label&quot;&gt;&#10;                                            &lt;i class=&quot;fas fa-heading&quot;&gt;&lt;/i&gt; Tiêu đề&#10;                                        &lt;/label&gt;&#10;                                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;title&quot; name=&quot;title&quot; required&gt;&#10;                                        &lt;div class=&quot;form-text&quot;&gt;Nhập tiêu đề cho bài viết của bạn&lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;&#10;                                    &lt;div class=&quot;mb-3&quot;&gt;&#10;                                        &lt;label for=&quot;body&quot; class=&quot;form-label&quot;&gt;&#10;                                            &lt;i class=&quot;fas fa-align-left&quot;&gt;&lt;/i&gt; Nội dung&#10;                                        &lt;/label&gt;&#10;                                        &lt;textarea class=&quot;form-control&quot; id=&quot;body&quot; name=&quot;body&quot; rows=&quot;6&quot; required&gt;&lt;/textarea&gt;&#10;                                        &lt;div class=&quot;form-text&quot;&gt;Viết nội dung chi tiết cho bài viết&lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;&#10;                                    &lt;div class=&quot;mb-3&quot;&gt;&#10;                                        &lt;label for=&quot;status&quot; class=&quot;form-label&quot;&gt;&#10;                                            &lt;i class=&quot;fas fa-toggle-on&quot;&gt;&lt;/i&gt; Trạng thái&#10;                                        &lt;/label&gt;&#10;                                        &lt;select class=&quot;form-select&quot; id=&quot;status&quot; name=&quot;status&quot; required&gt;&#10;                                            &lt;option value=&quot;&quot;&gt;-- Chọn trạng thái --&lt;/option&gt;&#10;                                            &lt;option value=&quot;ACTIVE&quot; selected&gt;Hoạt động&lt;/option&gt;&#10;                                            &lt;option value=&quot;DRAFT&quot;&gt;Bản nháp&lt;/option&gt;&#10;                                            &lt;option value=&quot;INACTIVE&quot;&gt;Không hoạt động&lt;/option&gt;&#10;                                        &lt;/select&gt;&#10;                                        &lt;div class=&quot;form-text&quot;&gt;Chọn trạng thái hiển thị của bài viết&lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;&#10;                                    &lt;div class=&quot;d-grid gap-2 d-md-flex justify-content-md-end&quot;&gt;&#10;                                        &lt;a href=&quot;${pageContext.request.contextPath}/web/profile/${param.userId}&quot; class=&quot;btn btn-secondary me-md-2&quot;&gt;&#10;                                            &lt;i class=&quot;fas fa-times&quot;&gt;&lt;/i&gt; Hủy bỏ&#10;                                        &lt;/a&gt;&#10;                                        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;&#10;                                            &lt;i class=&quot;fas fa-save&quot;&gt;&lt;/i&gt; Tạo bài viết&#10;                                        &lt;/button&gt;&#10;                                    &lt;/div&gt;&#10;                                &lt;/form&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;            &lt;/main&gt;&#10;        &lt;/div&gt;&#10;    &lt;/div&gt;&#10;&#10;    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;&#10;&lt;/body&gt;&#10;&lt;/html&gt;&#10;" />
              <option name="updatedContent" value="&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;&#10;&lt;%@ taglib uri=&quot;jakarta.tags.core&quot; prefix=&quot;c&quot; %&gt;&#10;&lt;!DOCTYPE html&gt;&#10;&lt;html lang=&quot;vi&quot;&gt;&#10;&lt;head&gt;&#10;    &lt;meta charset=&quot;UTF-8&quot;&gt;&#10;    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;&#10;    &lt;title&gt;Tạo bài viết - Chat App Demo&lt;/title&gt;&#10;    &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;&#10;    &lt;link href=&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css&quot; rel=&quot;stylesheet&quot;&gt;&#10;    &lt;link rel=&quot;stylesheet&quot; href=&quot;${pageContext.request.contextPath}/static/css/style.css&quot;&gt;&#10;    &lt;style&gt;&#10;        .sidebar {&#10;            min-height: 100vh;&#10;            background-color: #f8f9fa;&#10;        }&#10;    &lt;/style&gt;&#10;&lt;/head&gt;&#10;&lt;body&gt;&#10;    &lt;div class=&quot;container-fluid&quot;&gt;&#10;        &lt;div class=&quot;row&quot;&gt;&#10;            &lt;!-- Sidebar --&gt;&#10;            &lt;nav class=&quot;col-md-3 col-lg-2 d-md-block sidebar collapse&quot;&gt;&#10;                &lt;div class=&quot;position-sticky pt-3&quot;&gt;&#10;                    &lt;h5 class=&quot;text-center mb-4&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-comments&quot;&gt;&lt;/i&gt; Chat App Demo&#10;                    &lt;/h5&gt;&#10;                    &lt;ul class=&quot;nav flex-column&quot;&gt;&#10;                        &lt;li class=&quot;nav-item&quot;&gt;&#10;                            &lt;a class=&quot;nav-link&quot; href=&quot;${pageContext.request.contextPath}/web/&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-home&quot;&gt;&lt;/i&gt; Trang chủ&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                        &lt;li class=&quot;nav-item&quot;&gt;&#10;                            &lt;a class=&quot;nav-link&quot; href=&quot;${pageContext.request.contextPath}/web/posts&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-newspaper&quot;&gt;&lt;/i&gt; Tất cả bài viết&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                        &lt;li class=&quot;nav-item&quot;&gt;&#10;                            &lt;a class=&quot;nav-link&quot; href=&quot;${pageContext.request.contextPath}/web/users&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-users&quot;&gt;&lt;/i&gt; Người dùng&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                    &lt;/ul&gt;&#10;                &lt;/div&gt;&#10;            &lt;/nav&gt;&#10;&#10;            &lt;!-- Main content --&gt;&#10;            &lt;main class=&quot;col-md-9 ms-sm-auto col-lg-10 px-md-4&quot;&gt;&#10;                &lt;div class=&quot;d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom&quot;&gt;&#10;                    &lt;h1 class=&quot;h2&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-plus&quot;&gt;&lt;/i&gt; Tạo bài viết mới&#10;                    &lt;/h1&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;!-- Error/Success Messages --&gt;&#10;                &lt;c:if test=&quot;${not empty error}&quot;&gt;&#10;                    &lt;div class=&quot;alert alert-danger alert-dismissible fade show&quot; role=&quot;alert&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-exclamation-triangle&quot;&gt;&lt;/i&gt; ${error}&#10;                        &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;alert&quot;&gt;&lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/c:if&gt;&#10;&#10;                &lt;c:if test=&quot;${not empty success}&quot;&gt;&#10;                    &lt;div class=&quot;alert alert-success alert-dismissible fade show&quot; role=&quot;alert&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-check-circle&quot;&gt;&lt;/i&gt; ${success}&#10;                        &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;alert&quot;&gt;&lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/c:if&gt;&#10;&#10;                &lt;!-- Create Post Form --&gt;&#10;                &lt;div class=&quot;row justify-content-center&quot;&gt;&#10;                    &lt;div class=&quot;col-lg-8&quot;&gt;&#10;                        &lt;div class=&quot;card&quot;&gt;&#10;                            &lt;div class=&quot;card-header&quot;&gt;&#10;                                &lt;h5 class=&quot;card-title mb-0&quot;&gt;&#10;                                    &lt;i class=&quot;fas fa-edit&quot;&gt;&lt;/i&gt; Thông tin bài viết&#10;                                &lt;/h5&gt;&#10;                            &lt;/div&gt;&#10;                            &lt;div class=&quot;card-body&quot;&gt;&#10;                                &lt;form method=&quot;post&quot; action=&quot;${pageContext.request.contextPath}/web/create-post&quot;&gt;&#10;                                    &lt;!-- Hidden field for userId --&gt;&#10;                                    &lt;input type=&quot;hidden&quot; name=&quot;userId&quot; value=&quot;${param.userId}&quot;&gt;&#10;&#10;                                    &lt;div class=&quot;mb-3&quot;&gt;&#10;                                        &lt;label class=&quot;form-label&quot;&gt;&#10;                                            &lt;i class=&quot;fas fa-user&quot;&gt;&lt;/i&gt; Người tạo bài viết&#10;                                        &lt;/label&gt;&#10;                                        &lt;div class=&quot;form-control-plaintext bg-light p-2 rounded&quot;&gt;&#10;                                            &lt;strong&gt;User ID: ${param.userId}&lt;/strong&gt;&#10;                                            &lt;div class=&quot;form-text&quot;&gt;Bài viết sẽ được tạo bởi người dùng này&lt;/div&gt;&#10;                                        &lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;&#10;                                    &lt;div class=&quot;mb-3&quot;&gt;&#10;                                        &lt;label for=&quot;title&quot; class=&quot;form-label&quot;&gt;&#10;                                            &lt;i class=&quot;fas fa-heading&quot;&gt;&lt;/i&gt; Tiêu đề&#10;                                        &lt;/label&gt;&#10;                                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;title&quot; name=&quot;title&quot; required&gt;&#10;                                        &lt;div class=&quot;form-text&quot;&gt;Nhập tiêu đề cho bài viết của bạn&lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;&#10;                                    &lt;div class=&quot;mb-3&quot;&gt;&#10;                                        &lt;label for=&quot;body&quot; class=&quot;form-label&quot;&gt;&#10;                                            &lt;i class=&quot;fas fa-align-left&quot;&gt;&lt;/i&gt; Nội dung&#10;                                        &lt;/label&gt;&#10;                                        &lt;textarea class=&quot;form-control&quot; id=&quot;body&quot; name=&quot;body&quot; rows=&quot;6&quot; required&gt;&lt;/textarea&gt;&#10;                                        &lt;div class=&quot;form-text&quot;&gt;Viết nội dung chi tiết cho bài viết&lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;&#10;                                    &lt;div class=&quot;mb-3&quot;&gt;&#10;                                        &lt;label for=&quot;status&quot; class=&quot;form-label&quot;&gt;&#10;                                            &lt;i class=&quot;fas fa-eye&quot;&gt;&lt;/i&gt; Trạng thái hiển thị&#10;                                        &lt;/label&gt;&#10;                                        &lt;select class=&quot;form-select&quot; id=&quot;status&quot; name=&quot;status&quot; required&gt;&#10;                                            &lt;option value=&quot;&quot;&gt;-- Chọn trạng thái --&lt;/option&gt;&#10;                                            &lt;option value=&quot;PUBLIC&quot; selected&gt;Công khai (Public)&lt;/option&gt;&#10;                                            &lt;option value=&quot;PRIVATE&quot;&gt;Riêng tư (Private)&lt;/option&gt;&#10;                                        &lt;/select&gt;&#10;                                        &lt;div class=&quot;form-text&quot;&gt;Chọn ai có thể xem bài viết này&lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;&#10;                                    &lt;div class=&quot;d-grid gap-2 d-md-flex justify-content-md-end&quot;&gt;&#10;                                        &lt;a href=&quot;${pageContext.request.contextPath}/web/profile/${param.userId}&quot; class=&quot;btn btn-secondary me-md-2&quot;&gt;&#10;                                            &lt;i class=&quot;fas fa-times&quot;&gt;&lt;/i&gt; Hủy bỏ&#10;                                        &lt;/a&gt;&#10;                                        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;&#10;                                            &lt;i class=&quot;fas fa-save&quot;&gt;&lt;/i&gt; Tạo bài viết&#10;                                        &lt;/button&gt;&#10;                                    &lt;/div&gt;&#10;                                &lt;/form&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;            &lt;/main&gt;&#10;        &lt;/div&gt;&#10;    &lt;/div&gt;&#10;&#10;    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;&#10;&lt;/body&gt;&#10;&lt;/html&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/webapp/WEB-INF/views/edit-user.jsp">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/webapp/WEB-INF/views/edit-user.jsp" />
              <option name="originalContent" value="tt&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;&#10;&lt;%@ taglib uri=&quot;jakarta.tags.core&quot; prefix=&quot;c&quot; %&gt;&#10;&lt;!DOCTYPE html&gt;&#10;&lt;html lang=&quot;vi&quot;&gt;&#10;&lt;head&gt;&#10;    &lt;meta charset=&quot;UTF-8&quot;&gt;&#10;    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;&#10;    &lt;title&gt;Chỉnh sửa người dùng - Chat App Demo&lt;/title&gt;&#10;    &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;&#10;    &lt;link href=&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css&quot; rel=&quot;stylesheet&quot;&gt;&#10;    &lt;link rel=&quot;stylesheet&quot; href=&quot;${pageContext.request.contextPath}/static/css/style.css&quot;&gt;&#10;    &lt;style&gt;&#10;        .sidebar {&#10;            min-height: 100vh;&#10;            background-color: #f8f9fa;&#10;        }&#10;    &lt;/style&gt;&#10;&lt;/head&gt;&#10;&lt;body&gt;&#10;    &lt;div class=&quot;container-fluid&quot;&gt;&#10;        &lt;div class=&quot;row&quot;&gt;&#10;            &lt;!-- Sidebar --&gt;&#10;            &lt;nav class=&quot;col-md-3 col-lg-2 d-md-block sidebar collapse&quot;&gt;&#10;                &lt;div class=&quot;position-sticky pt-3&quot;&gt;&#10;                    &lt;h5 class=&quot;text-center mb-4&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-comments&quot;&gt;&lt;/i&gt; Chat App Demo&#10;                    &lt;/h5&gt;&#10;                    &lt;ul class=&quot;nav flex-column&quot;&gt;&#10;                        &lt;li class=&quot;nav-item&quot;&gt;&#10;                            &lt;a class=&quot;nav-link&quot; href=&quot;${pageContext.request.contextPath}/web/&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-home&quot;&gt;&lt;/i&gt; Trang chủ&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                        &lt;li class=&quot;nav-item&quot;&gt;&#10;                            &lt;a class=&quot;nav-link&quot; href=&quot;${pageContext.request.contextPath}/web/posts&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-newspaper&quot;&gt;&lt;/i&gt; Tất cả bài viết&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                        &lt;li class=&quot;nav-item&quot;&gt;&#10;                            &lt;a class=&quot;nav-link&quot; href=&quot;${pageContext.request.contextPath}/web/users&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-users&quot;&gt;&lt;/i&gt; Người dùng&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                    &lt;/ul&gt;&#10;                &lt;/div&gt;&#10;            &lt;/nav&gt;&#10;&#10;            &lt;!-- Main content --&gt;&#10;            &lt;main class=&quot;col-md-9 ms-sm-auto col-lg-10 px-md-4&quot;&gt;&#10;                &lt;div class=&quot;d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom&quot;&gt;&#10;                    &lt;h1 class=&quot;h2&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-user-edit&quot;&gt;&lt;/i&gt; Chỉnh sửa người dùng&#10;                    &lt;/h1&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;!-- Error/Success Messages --&gt;&#10;                &lt;c:if test=&quot;${not empty error}&quot;&gt;&#10;                    &lt;div class=&quot;alert alert-danger alert-dismissible fade show&quot; role=&quot;alert&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-exclamation-triangle&quot;&gt;&lt;/i&gt; ${error}&#10;                        &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;alert&quot;&gt;&lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/c:if&gt;&#10;&#10;                &lt;c:if test=&quot;${not empty success}&quot;&gt;&#10;                    &lt;div class=&quot;alert alert-success alert-dismissible fade show&quot; role=&quot;alert&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-check-circle&quot;&gt;&lt;/i&gt; ${success}&#10;                        &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;alert&quot;&gt;&lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/c:if&gt;&#10;&#10;                &lt;!-- Edit User Form --&gt;&#10;                &lt;div class=&quot;row justify-content-center&quot;&gt;&#10;                    &lt;div class=&quot;col-lg-8&quot;&gt;&#10;                        &lt;div class=&quot;card&quot;&gt;&#10;                            &lt;div class=&quot;card-header&quot;&gt;&#10;                                &lt;h5 class=&quot;card-title mb-0&quot;&gt;&#10;                                    &lt;i class=&quot;fas fa-edit&quot;&gt;&lt;/i&gt; Thông tin người dùng&#10;                                &lt;/h5&gt;&#10;                            &lt;/div&gt;&#10;                            &lt;div class=&quot;card-body&quot;&gt;&#10;                                &lt;form method=&quot;post&quot; action=&quot;${pageContext.request.contextPath}/web/user/edit/${user.id}&quot;&gt;&#10;                                    &lt;div class=&quot;mb-3&quot;&gt;&#10;                                        &lt;label for=&quot;id&quot; class=&quot;form-label&quot;&gt;&#10;                                            &lt;i class=&quot;fas fa-hashtag&quot;&gt;&lt;/i&gt; ID&#10;                                        &lt;/label&gt;&#10;                                        &lt;input type=&quot;number&quot; class=&quot;form-control&quot; id=&quot;id&quot; name=&quot;id&quot; value=&quot;${user.id}&quot; readonly&gt;&#10;                                        &lt;div class=&quot;form-text&quot;&gt;ID không thể thay đổi&lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;&#10;                                    &lt;div class=&quot;mb-3&quot;&gt;&#10;                                        &lt;label for=&quot;userName&quot; class=&quot;form-label&quot;&gt;&#10;                                            &lt;i class=&quot;fas fa-user&quot;&gt;&lt;/i&gt; Tên người dùng&#10;                                        &lt;/label&gt;&#10;                                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;userName&quot; name=&quot;userName&quot; value=&quot;${user.userName}&quot; required&gt;&#10;                                        &lt;div class=&quot;form-text&quot;&gt;Nhập tên người dùng mới&lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;&#10;                                    &lt;div class=&quot;mb-3&quot;&gt;&#10;                                        &lt;label for=&quot;role&quot; class=&quot;form-label&quot;&gt;&#10;                                            &lt;i class=&quot;fas fa-user-tag&quot;&gt;&lt;/i&gt; Vai trò&#10;                                        &lt;/label&gt;&#10;                                        &lt;select class=&quot;form-select&quot; id=&quot;role&quot; name=&quot;role&quot; required&gt;&#10;                                            &lt;option value=&quot;&quot;&gt;-- Chọn vai trò --&lt;/option&gt;&#10;                                            &lt;option value=&quot;USER&quot; ${user.role eq 'USER' ? 'selected' : ''}&gt;Người dùng&lt;/option&gt;&#10;                                            &lt;option value=&quot;ADMIN&quot; ${user.role eq 'ADMIN' ? 'selected' : ''}&gt;Quản trị viên&lt;/option&gt;&#10;                                        &lt;/select&gt;&#10;                                        &lt;div class=&quot;form-text&quot;&gt;Chọn vai trò của người dùng&lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;&#10;                                    &lt;div class=&quot;mb-3&quot;&gt;&#10;                                        &lt;label for=&quot;createAt&quot; class=&quot;form-label&quot;&gt;&#10;                                            &lt;i class=&quot;fas fa-calendar-alt&quot;&gt;&lt;/i&gt; Ngày tạo&#10;                                        &lt;/label&gt;&#10;                                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;createAt&quot; value=&quot;${user.createAt}&quot; readonly&gt;&#10;                                        &lt;div class=&quot;form-text&quot;&gt;Ngày tạo tài khoản không thể thay đổi&lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;&#10;                                    &lt;div class=&quot;d-grid gap-2 d-md-flex justify-content-md-end&quot;&gt;&#10;                                        &lt;a href=&quot;${pageContext.request.contextPath}/web/profile/${user.id}&quot; class=&quot;btn btn-secondary me-md-2&quot;&gt;&#10;                                            &lt;i class=&quot;fas fa-times&quot;&gt;&lt;/i&gt; Hủy bỏ&#10;                                        &lt;/a&gt;&#10;                                        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;&#10;                                            &lt;i class=&quot;fas fa-save&quot;&gt;&lt;/i&gt; Lưu thay đổi&#10;                                        &lt;/button&gt;&#10;                                    &lt;/div&gt;&#10;                                &lt;/form&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;            &lt;/main&gt;&#10;        &lt;/div&gt;&#10;    &lt;/div&gt;&#10;&#10;    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;&#10;&lt;/body&gt;&#10;&lt;/html&gt;&#10;" />
              <option name="updatedContent" value="&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;&#10;&lt;%@ taglib uri=&quot;jakarta.tags.core&quot; prefix=&quot;c&quot; %&gt;&#10;&lt;!DOCTYPE html&gt;&#10;&lt;html lang=&quot;vi&quot;&gt;&#10;&lt;head&gt;&#10;    &lt;meta charset=&quot;UTF-8&quot;&gt;&#10;    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;&#10;    &lt;title&gt;Chỉnh sửa người dùng - Chat App Demo&lt;/title&gt;&#10;    &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;&#10;    &lt;link href=&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css&quot; rel=&quot;stylesheet&quot;&gt;&#10;    &lt;link rel=&quot;stylesheet&quot; href=&quot;${pageContext.request.contextPath}/static/css/style.css&quot;&gt;&#10;    &lt;style&gt;&#10;        .sidebar {&#10;            min-height: 100vh;&#10;            background-color: #f8f9fa;&#10;        }&#10;    &lt;/style&gt;&#10;&lt;/head&gt;&#10;&lt;body&gt;&#10;    &lt;div class=&quot;container-fluid&quot;&gt;&#10;        &lt;div class=&quot;row&quot;&gt;&#10;            &lt;!-- Sidebar --&gt;&#10;            &lt;nav class=&quot;col-md-3 col-lg-2 d-md-block sidebar collapse&quot;&gt;&#10;                &lt;div class=&quot;position-sticky pt-3&quot;&gt;&#10;                    &lt;h5 class=&quot;text-center mb-4&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-comments&quot;&gt;&lt;/i&gt; Chat App Demo&#10;                    &lt;/h5&gt;&#10;                    &lt;ul class=&quot;nav flex-column&quot;&gt;&#10;                        &lt;li class=&quot;nav-item&quot;&gt;&#10;                            &lt;a class=&quot;nav-link&quot; href=&quot;${pageContext.request.contextPath}/web/&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-home&quot;&gt;&lt;/i&gt; Trang chủ&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                        &lt;li class=&quot;nav-item&quot;&gt;&#10;                            &lt;a class=&quot;nav-link&quot; href=&quot;${pageContext.request.contextPath}/web/posts&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-newspaper&quot;&gt;&lt;/i&gt; Tất cả bài viết&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                        &lt;li class=&quot;nav-item&quot;&gt;&#10;                            &lt;a class=&quot;nav-link&quot; href=&quot;${pageContext.request.contextPath}/web/users&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-users&quot;&gt;&lt;/i&gt; Người dùng&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                    &lt;/ul&gt;&#10;                &lt;/div&gt;&#10;            &lt;/nav&gt;&#10;&#10;            &lt;!-- Main content --&gt;&#10;            &lt;main class=&quot;col-md-9 ms-sm-auto col-lg-10 px-md-4&quot;&gt;&#10;                &lt;div class=&quot;d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom&quot;&gt;&#10;                    &lt;h1 class=&quot;h2&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-user-edit&quot;&gt;&lt;/i&gt; Chỉnh sửa người dùng&#10;                    &lt;/h1&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;!-- Error/Success Messages --&gt;&#10;                &lt;c:if test=&quot;${not empty error}&quot;&gt;&#10;                    &lt;div class=&quot;alert alert-danger alert-dismissible fade show&quot; role=&quot;alert&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-exclamation-triangle&quot;&gt;&lt;/i&gt; ${error}&#10;                        &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;alert&quot;&gt;&lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/c:if&gt;&#10;&#10;                &lt;c:if test=&quot;${not empty success}&quot;&gt;&#10;                    &lt;div class=&quot;alert alert-success alert-dismissible fade show&quot; role=&quot;alert&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-check-circle&quot;&gt;&lt;/i&gt; ${success}&#10;                        &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;alert&quot;&gt;&lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/c:if&gt;&#10;&#10;                &lt;!-- Edit User Form --&gt;&#10;                &lt;div class=&quot;row justify-content-center&quot;&gt;&#10;                    &lt;div class=&quot;col-lg-8&quot;&gt;&#10;                        &lt;div class=&quot;card&quot;&gt;&#10;                            &lt;div class=&quot;card-header&quot;&gt;&#10;                                &lt;h5 class=&quot;card-title mb-0&quot;&gt;&#10;                                    &lt;i class=&quot;fas fa-edit&quot;&gt;&lt;/i&gt; Thông tin người dùng&#10;                                &lt;/h5&gt;&#10;                            &lt;/div&gt;&#10;                            &lt;div class=&quot;card-body&quot;&gt;&#10;                                &lt;form method=&quot;post&quot; action=&quot;${pageContext.request.contextPath}/web/user/edit/${user.id}&quot;&gt;&#10;                                    &lt;div class=&quot;mb-3&quot;&gt;&#10;                                        &lt;label for=&quot;id&quot; class=&quot;form-label&quot;&gt;&#10;                                            &lt;i class=&quot;fas fa-hashtag&quot;&gt;&lt;/i&gt; ID&#10;                                        &lt;/label&gt;&#10;                                        &lt;input type=&quot;number&quot; class=&quot;form-control&quot; id=&quot;id&quot; name=&quot;id&quot; value=&quot;${user.id}&quot; readonly&gt;&#10;                                        &lt;div class=&quot;form-text&quot;&gt;ID không thể thay đổi&lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;&#10;                                    &lt;div class=&quot;mb-3&quot;&gt;&#10;                                        &lt;label for=&quot;userName&quot; class=&quot;form-label&quot;&gt;&#10;                                            &lt;i class=&quot;fas fa-user&quot;&gt;&lt;/i&gt; Tên người dùng&#10;                                        &lt;/label&gt;&#10;                                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;userName&quot; name=&quot;userName&quot; value=&quot;${user.userName}&quot; required&gt;&#10;                                        &lt;div class=&quot;form-text&quot;&gt;Nhập tên người dùng mới&lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;&#10;                                    &lt;div class=&quot;mb-3&quot;&gt;&#10;                                        &lt;label for=&quot;role&quot; class=&quot;form-label&quot;&gt;&#10;                                            &lt;i class=&quot;fas fa-user-tag&quot;&gt;&lt;/i&gt; Vai trò&#10;                                        &lt;/label&gt;&#10;                                        &lt;select class=&quot;form-select&quot; id=&quot;role&quot; name=&quot;role&quot; required&gt;&#10;                                            &lt;option value=&quot;&quot;&gt;-- Chọn vai trò --&lt;/option&gt;&#10;                                            &lt;option value=&quot;USER&quot; ${user.role eq 'USER' ? 'selected' : ''}&gt;Người dùng&lt;/option&gt;&#10;                                            &lt;option value=&quot;ADMIN&quot; ${user.role eq 'ADMIN' ? 'selected' : ''}&gt;Quản trị viên&lt;/option&gt;&#10;                                        &lt;/select&gt;&#10;                                        &lt;div class=&quot;form-text&quot;&gt;Chọn vai trò của người dùng&lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;&#10;                                    &lt;div class=&quot;mb-3&quot;&gt;&#10;                                        &lt;label for=&quot;createAt&quot; class=&quot;form-label&quot;&gt;&#10;                                            &lt;i class=&quot;fas fa-calendar-alt&quot;&gt;&lt;/i&gt; Ngày tạo&#10;                                        &lt;/label&gt;&#10;                                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;createAt&quot; value=&quot;${user.createAt}&quot; readonly&gt;&#10;                                        &lt;div class=&quot;form-text&quot;&gt;Ngày tạo tài khoản không thể thay đổi&lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;&#10;                                    &lt;div class=&quot;d-grid gap-2 d-md-flex justify-content-md-end&quot;&gt;&#10;                                        &lt;a href=&quot;${pageContext.request.contextPath}/web/profile/${user.id}&quot; class=&quot;btn btn-secondary me-md-2&quot;&gt;&#10;                                            &lt;i class=&quot;fas fa-times&quot;&gt;&lt;/i&gt; Hủy bỏ&#10;                                        &lt;/a&gt;&#10;                                        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;&#10;                                            &lt;i class=&quot;fas fa-save&quot;&gt;&lt;/i&gt; Lưu thay đổi&#10;                                        &lt;/button&gt;&#10;                                    &lt;/div&gt;&#10;                                &lt;/form&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;            &lt;/main&gt;&#10;        &lt;/div&gt;&#10;    &lt;/div&gt;&#10;&#10;    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;&#10;&lt;/body&gt;&#10;&lt;/html&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/webapp/WEB-INF/views/error.jsp">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/webapp/WEB-INF/views/error.jsp" />
              <option name="updatedContent" value="&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;&#10;&lt;%@ taglib uri=&quot;jakarta.tags.core&quot; prefix=&quot;c&quot; %&gt;&#10;&lt;!DOCTYPE html&gt;&#10;&lt;html lang=&quot;vi&quot;&gt;&#10;&lt;head&gt;&#10;    &lt;meta charset=&quot;UTF-8&quot;&gt;&#10;    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;&#10;    &lt;title&gt;Lỗi - Chat App Demo&lt;/title&gt;&#10;    &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;&#10;    &lt;link href=&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css&quot; rel=&quot;stylesheet&quot;&gt;&#10;    &lt;link rel=&quot;stylesheet&quot; href=&quot;${pageContext.request.contextPath}/static/css/style.css&quot;&gt;&#10;&lt;/head&gt;&#10;&lt;body&gt;&#10;    &lt;div class=&quot;container mt-5&quot;&gt;&#10;        &lt;div class=&quot;row justify-content-center&quot;&gt;&#10;            &lt;div class=&quot;col-lg-6&quot;&gt;&#10;                &lt;div class=&quot;card border-danger&quot;&gt;&#10;                    &lt;div class=&quot;card-header bg-danger text-white text-center&quot;&gt;&#10;                        &lt;h1 class=&quot;display-1&quot;&gt;&#10;                            &lt;i class=&quot;fas fa-exclamation-triangle&quot;&gt;&lt;/i&gt;&#10;                        &lt;/h1&gt;&#10;                        &lt;h4 class=&quot;card-title mb-0&quot;&gt;Đã xảy ra lỗi&lt;/h4&gt;&#10;                    &lt;/div&gt;&#10;                    &lt;div class=&quot;card-body text-center&quot;&gt;&#10;                        &lt;p class=&quot;card-text&quot;&gt;Xin lỗi, đã có lỗi xảy ra khi xử lý yêu cầu của bạn.&lt;/p&gt;&#10;                        &#10;                        &lt;c:if test=&quot;${not empty error}&quot;&gt;&#10;                            &lt;div class=&quot;alert alert-danger&quot;&gt;&#10;                                &lt;strong&gt;Chi tiết lỗi:&lt;/strong&gt;&lt;br&gt;&#10;                                ${error}&#10;                            &lt;/div&gt;&#10;                        &lt;/c:if&gt;&#10;&#10;                        &lt;div class=&quot;mt-4&quot;&gt;&#10;                            &lt;a href=&quot;${pageContext.request.contextPath}/web/&quot; class=&quot;btn btn-primary me-2&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-home&quot;&gt;&lt;/i&gt; Về trang chủ&#10;                            &lt;/a&gt;&#10;                            &lt;a href=&quot;${pageContext.request.contextPath}/web/posts&quot; class=&quot;btn btn-outline-primary me-2&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-newspaper&quot;&gt;&lt;/i&gt; Xem bài viết&#10;                            &lt;/a&gt;&#10;                            &lt;a href=&quot;${pageContext.request.contextPath}/web/users&quot; class=&quot;btn btn-outline-secondary&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-users&quot;&gt;&lt;/i&gt; Xem người dùng&#10;                            &lt;/a&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                    &lt;div class=&quot;card-footer text-muted text-center&quot;&gt;&#10;                        &lt;small&gt;&#10;                            &lt;i class=&quot;fas fa-clock&quot;&gt;&lt;/i&gt; &#10;                            Thời gian: &lt;%= new java.util.Date() %&gt;&#10;                        &lt;/small&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;    &lt;/div&gt;&#10;&#10;    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;&#10;&lt;/body&gt;&#10;&lt;/html&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/webapp/WEB-INF/views/home.jsp">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/webapp/WEB-INF/views/home.jsp" />
              <option name="originalContent" value="&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;&#10;&lt;%@ taglib uri=&quot;jakarta.tags.core&quot; prefix=&quot;c&quot; %&gt;&#10;&lt;%@ taglib uri=&quot;jakarta.tags.fmt&quot; prefix=&quot;fmt&quot; %&gt;&#10;&lt;%@ taglib uri=&quot;jakarta.tags.functions&quot; prefix=&quot;fn&quot; %&gt;&#10;&lt;!DOCTYPE html&gt;&#10;&lt;html lang=&quot;vi&quot;&gt;&#10;&lt;head&gt;&#10;    &lt;meta charset=&quot;UTF-8&quot;&gt;&#10;    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;&#10;    &lt;title&gt;Trang chủ - Chat App Demo&lt;/title&gt;&#10;    &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;&#10;    &lt;link href=&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css&quot; rel=&quot;stylesheet&quot;&gt;&#10;    &lt;link rel=&quot;stylesheet&quot; href=&quot;${pageContext.request.contextPath}/static/css/style.css&quot;&gt;&#10;    &lt;style&gt;&#10;        .sidebar {&#10;            min-height: 100vh;&#10;            background-color: #f8f9fa;&#10;        }&#10;        .post-card {&#10;            border-left: 4px solid #007bff;&#10;            transition: transform 0.2s;&#10;        }&#10;        .post-card:hover {&#10;            transform: translateY(-2px);&#10;            box-shadow: 0 4px 8px rgba(0,0,0,0.1);&#10;        }&#10;        .user-avatar {&#10;            width: 40px;&#10;            height: 40px;&#10;            background-color: #007bff;&#10;            border-radius: 50%;&#10;            display: flex;&#10;            align-items: center;&#10;            justify-content: center;&#10;            color: white;&#10;            font-weight: bold;&#10;        }&#10;    &lt;/style&gt;&#10;&lt;/head&gt;&#10;&lt;body&gt;&#10;    &lt;div class=&quot;container-fluid&quot;&gt;&#10;        &lt;div class=&quot;row&quot;&gt;&#10;            &lt;!-- Sidebar --&gt;&#10;            &lt;nav class=&quot;col-md-3 col-lg-2 d-md-block sidebar collapse&quot;&gt;&#10;                &lt;div class=&quot;position-sticky pt-3&quot;&gt;&#10;                    &lt;h5 class=&quot;text-center mb-4&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-comments&quot;&gt;&lt;/i&gt; Chat App Demo&#10;                    &lt;/h5&gt;&#10;                    &lt;ul class=&quot;nav flex-column&quot;&gt;&#10;                        &lt;li class=&quot;nav-item&quot;&gt;&#10;                            &lt;a class=&quot;nav-link active&quot; href=&quot;${pageContext.request.contextPath}/web/&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-home&quot;&gt;&lt;/i&gt; Trang chủ&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                        &lt;li class=&quot;nav-item&quot;&gt;&#10;                            &lt;a class=&quot;nav-link&quot; href=&quot;${pageContext.request.contextPath}/web/posts&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-newspaper&quot;&gt;&lt;/i&gt; Tất cả bài viết&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                        &lt;li class=&quot;nav-item&quot;&gt;&#10;                            &lt;a class=&quot;nav-link&quot; href=&quot;${pageContext.request.contextPath}/web/users&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-users&quot;&gt;&lt;/i&gt; Người dùng&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                    &lt;/ul&gt;&#10;                &lt;/div&gt;&#10;            &lt;/nav&gt;&#10;&#10;            &lt;!-- Main content --&gt;&#10;            &lt;main class=&quot;col-md-9 ms-sm-auto col-lg-10 px-md-4&quot;&gt;&#10;                &lt;div class=&quot;d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom&quot;&gt;&#10;                    &lt;h1 class=&quot;h2&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-home&quot;&gt;&lt;/i&gt; Trang chủ&#10;                    &lt;/h1&gt;&#10;                    &lt;div class=&quot;btn-toolbar mb-2 mb-md-0&quot;&gt;&#10;                        &lt;div class=&quot;btn-group me-2&quot;&gt;&#10;                            &lt;span class=&quot;badge bg-primary&quot;&gt;Tổng: ${fn:length(posts)} bài viết&lt;/span&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;!-- Error/Success Messages --&gt;&#10;                &lt;c:if test=&quot;${not empty error}&quot;&gt;&#10;                    &lt;div class=&quot;alert alert-danger alert-dismissible fade show&quot; role=&quot;alert&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-exclamation-triangle&quot;&gt;&lt;/i&gt; ${error}&#10;                        &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;alert&quot;&gt;&lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/c:if&gt;&#10;&#10;                &lt;c:if test=&quot;${not empty success}&quot;&gt;&#10;                    &lt;div class=&quot;alert alert-success alert-dismissible fade show&quot; role=&quot;alert&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-check-circle&quot;&gt;&lt;/i&gt; ${success}&#10;                        &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;alert&quot;&gt;&lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/c:if&gt;&#10;&#10;                &lt;!-- Posts Section --&gt;&#10;                &lt;div class=&quot;row&quot;&gt;&#10;                    &lt;div class=&quot;col-12&quot;&gt;&#10;                        &lt;c:choose&gt;&#10;                            &lt;c:when test=&quot;${empty posts}&quot;&gt;&#10;                                &lt;div class=&quot;alert alert-info text-center&quot;&gt;&#10;                                    &lt;i class=&quot;fas fa-info-circle&quot;&gt;&lt;/i&gt; Chưa có bài viết nào được đăng.&#10;                                    &lt;br&gt;&lt;br&gt;&#10;                                    &lt;p class=&quot;text-muted&quot;&gt;Hãy truy cập profile của người dùng để tạo bài viết mới.&lt;/p&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/c:when&gt;&#10;                            &lt;c:otherwise&gt;&#10;                                &lt;div class=&quot;row&quot;&gt;&#10;                                    &lt;c:forEach items=&quot;${posts}&quot; var=&quot;post&quot;&gt;&#10;                                        &lt;div class=&quot;col-lg-6 col-xl-4 mb-4&quot;&gt;&#10;                                            &lt;div class=&quot;card post-card h-100&quot;&gt;&#10;                                                &lt;div class=&quot;card-header d-flex align-items-center&quot;&gt;&#10;                                                    &lt;div class=&quot;user-avatar me-3&quot;&gt;&#10;                                                        &lt;c:choose&gt;&#10;                                                            &lt;c:when test=&quot;${not empty post.username}&quot;&gt;&#10;                                                                ${fn:toUpperCase(fn:substring(post.username, 0, 1))}&#10;                                                            &lt;/c:when&gt;&#10;                                                            &lt;c:otherwise&gt;U&lt;/c:otherwise&gt;&#10;                                                        &lt;/c:choose&gt;&#10;                                                    &lt;/div&gt;&#10;                                                    &lt;div&gt;&#10;                                                        &lt;h6 class=&quot;mb-0&quot;&gt;&#10;                                                            &lt;c:choose&gt;&#10;                                                                &lt;c:when test=&quot;${not empty post.username}&quot;&gt;${post.username}&lt;/c:when&gt;&#10;                                                                &lt;c:otherwise&gt;Người dùng&lt;/c:otherwise&gt;&#10;                                                            &lt;/c:choose&gt;&#10;                                                        &lt;/h6&gt;&#10;                                                        &lt;small class=&quot;text-muted&quot;&gt;${post.createAt}&lt;/small&gt;&#10;                                                    &lt;/div&gt;&#10;                                                &lt;/div&gt;&#10;                                                &lt;div class=&quot;card-body&quot;&gt;&#10;                                                    &lt;h5 class=&quot;card-title&quot;&gt;${post.title}&lt;/h5&gt;&#10;                                                    &lt;p class=&quot;card-text&quot;&gt;&#10;                                                        &lt;c:choose&gt;&#10;                                                            &lt;c:when test=&quot;${fn:length(post.body) &gt; 100}&quot;&gt;&#10;                                                                ${fn:substring(post.body, 0, 100)}...&#10;                                                            &lt;/c:when&gt;&#10;                                                            &lt;c:otherwise&gt;&#10;                                                                ${post.body}&#10;                                                            &lt;/c:otherwise&gt;&#10;                                                        &lt;/c:choose&gt;&#10;                                                    &lt;/p&gt;&#10;                                                    &lt;div class=&quot;d-flex justify-content-between align-items-center&quot;&gt;&#10;                                                        &lt;span class=&quot;badge ${post.status eq 'ACTIVE' ? 'bg-success' : 'bg-secondary'}&quot;&gt;${post.status}&lt;/span&gt;&#10;                                                        &lt;a href=&quot;${pageContext.request.contextPath}/web/profile/${post.userId}&quot; class=&quot;btn btn-outline-primary btn-sm&quot;&gt;&#10;                                                            &lt;i class=&quot;fas fa-user&quot;&gt;&lt;/i&gt; Xem profile&#10;                                                        &lt;/a&gt;&#10;                                                    &lt;/div&gt;&#10;                                                &lt;/div&gt;&#10;                                            &lt;/div&gt;&#10;                                        &lt;/div&gt;&#10;                                    &lt;/c:forEach&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/c:otherwise&gt;&#10;                        &lt;/c:choose&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;            &lt;/main&gt;&#10;        &lt;/div&gt;&#10;    &lt;/div&gt;&#10;&#10;    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;&#10;&lt;/body&gt;&#10;&lt;/html&gt;&#10;" />
              <option name="updatedContent" value="&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;&#10;&lt;%@ taglib uri=&quot;jakarta.tags.core&quot; prefix=&quot;c&quot; %&gt;&#10;&lt;%@ taglib uri=&quot;jakarta.tags.fmt&quot; prefix=&quot;fmt&quot; %&gt;&#10;&lt;%@ taglib uri=&quot;jakarta.tags.functions&quot; prefix=&quot;fn&quot; %&gt;&#10;&lt;!DOCTYPE html&gt;&#10;&lt;html lang=&quot;vi&quot;&gt;&#10;&lt;head&gt;&#10;    &lt;meta charset=&quot;UTF-8&quot;&gt;&#10;    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;&#10;    &lt;title&gt;Trang chủ - Chat App Demo&lt;/title&gt;&#10;    &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;&#10;    &lt;link href=&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css&quot; rel=&quot;stylesheet&quot;&gt;&#10;    &lt;link rel=&quot;stylesheet&quot; href=&quot;${pageContext.request.contextPath}/static/css/style.css&quot;&gt;&#10;    &lt;style&gt;&#10;        .sidebar {&#10;            min-height: 100vh;&#10;            background-color: #f8f9fa;&#10;        }&#10;        .post-card {&#10;            border-left: 4px solid #007bff;&#10;            transition: transform 0.2s;&#10;        }&#10;        .post-card:hover {&#10;            transform: translateY(-2px);&#10;            box-shadow: 0 4px 8px rgba(0,0,0,0.1);&#10;        }&#10;        .user-avatar {&#10;            width: 40px;&#10;            height: 40px;&#10;            background-color: #007bff;&#10;            border-radius: 50%;&#10;            display: flex;&#10;            align-items: center;&#10;            justify-content: center;&#10;            color: white;&#10;            font-weight: bold;&#10;        }&#10;    &lt;/style&gt;&#10;&lt;/head&gt;&#10;&lt;body&gt;&#10;    &lt;div class=&quot;container-fluid&quot;&gt;&#10;        &lt;div class=&quot;row&quot;&gt;&#10;            &lt;!-- Sidebar --&gt;&#10;            &lt;nav class=&quot;col-md-3 col-lg-2 d-md-block sidebar collapse&quot;&gt;&#10;                &lt;div class=&quot;position-sticky pt-3&quot;&gt;&#10;                    &lt;h5 class=&quot;text-center mb-4&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-comments&quot;&gt;&lt;/i&gt; Chat App Demo&#10;                    &lt;/h5&gt;&#10;                    &lt;ul class=&quot;nav flex-column&quot;&gt;&#10;                        &lt;li class=&quot;nav-item&quot;&gt;&#10;                            &lt;a class=&quot;nav-link active&quot; href=&quot;${pageContext.request.contextPath}/web/&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-home&quot;&gt;&lt;/i&gt; Trang chủ&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                        &lt;li class=&quot;nav-item&quot;&gt;&#10;                            &lt;a class=&quot;nav-link&quot; href=&quot;${pageContext.request.contextPath}/web/posts&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-newspaper&quot;&gt;&lt;/i&gt; Tất cả bài viết&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                        &lt;li class=&quot;nav-item&quot;&gt;&#10;                            &lt;a class=&quot;nav-link&quot; href=&quot;${pageContext.request.contextPath}/web/users&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-users&quot;&gt;&lt;/i&gt; Người dùng&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                    &lt;/ul&gt;&#10;                &lt;/div&gt;&#10;            &lt;/nav&gt;&#10;&#10;            &lt;!-- Main content --&gt;&#10;            &lt;main class=&quot;col-md-9 ms-sm-auto col-lg-10 px-md-4&quot;&gt;&#10;                &lt;div class=&quot;d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom&quot;&gt;&#10;                    &lt;h1 class=&quot;h2&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-home&quot;&gt;&lt;/i&gt; Trang chủ&#10;                    &lt;/h1&gt;&#10;                    &lt;div class=&quot;btn-toolbar mb-2 mb-md-0&quot;&gt;&#10;                        &lt;div class=&quot;btn-group me-2&quot;&gt;&#10;                            &lt;span class=&quot;badge bg-primary&quot;&gt;Tổng: ${fn:length(posts)} bài viết&lt;/span&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;!-- Error/Success Messages --&gt;&#10;                &lt;c:if test=&quot;${not empty error}&quot;&gt;&#10;                    &lt;div class=&quot;alert alert-danger alert-dismissible fade show&quot; role=&quot;alert&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-exclamation-triangle&quot;&gt;&lt;/i&gt; ${error}&#10;                        &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;alert&quot;&gt;&lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/c:if&gt;&#10;&#10;                &lt;c:if test=&quot;${not empty success}&quot;&gt;&#10;                    &lt;div class=&quot;alert alert-success alert-dismissible fade show&quot; role=&quot;alert&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-check-circle&quot;&gt;&lt;/i&gt; ${success}&#10;                        &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;alert&quot;&gt;&lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/c:if&gt;&#10;&#10;                &lt;!-- Posts Section --&gt;&#10;                &lt;div class=&quot;row&quot;&gt;&#10;                    &lt;div class=&quot;col-12&quot;&gt;&#10;                        &lt;c:choose&gt;&#10;                            &lt;c:when test=&quot;${empty posts}&quot;&gt;&#10;                                &lt;div class=&quot;alert alert-info text-center&quot;&gt;&#10;                                    &lt;i class=&quot;fas fa-info-circle&quot;&gt;&lt;/i&gt; Chưa có bài viết nào được đăng.&#10;                                    &lt;br&gt;&lt;br&gt;&#10;                                    &lt;p class=&quot;text-muted&quot;&gt;Hãy truy cập profile của người dùng để tạo bài viết mới.&lt;/p&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/c:when&gt;&#10;                            &lt;c:otherwise&gt;&#10;                                &lt;div class=&quot;row&quot;&gt;&#10;                                    &lt;c:forEach items=&quot;${posts}&quot; var=&quot;post&quot;&gt;&#10;                                        &lt;div class=&quot;col-lg-6 col-xl-4 mb-4&quot;&gt;&#10;                                            &lt;div class=&quot;card post-card h-100&quot;&gt;&#10;                                                &lt;div class=&quot;card-header d-flex align-items-center&quot;&gt;&#10;                                                    &lt;div class=&quot;user-avatar me-3&quot;&gt;&#10;                                                        &lt;c:choose&gt;&#10;                                                            &lt;c:when test=&quot;${not empty post.username}&quot;&gt;&#10;                                                                ${fn:toUpperCase(fn:substring(post.username, 0, 1))}&#10;                                                            &lt;/c:when&gt;&#10;                                                            &lt;c:otherwise&gt;U&lt;/c:otherwise&gt;&#10;                                                        &lt;/c:choose&gt;&#10;                                                    &lt;/div&gt;&#10;                                                    &lt;div&gt;&#10;                                                        &lt;h6 class=&quot;mb-0&quot;&gt;&#10;                                                            &lt;c:choose&gt;&#10;                                                                &lt;c:when test=&quot;${not empty post.username}&quot;&gt;${post.username}&lt;/c:when&gt;&#10;                                                                &lt;c:otherwise&gt;Người dùng&lt;/c:otherwise&gt;&#10;                                                            &lt;/c:choose&gt;&#10;                                                        &lt;/h6&gt;&#10;                                                        &lt;small class=&quot;text-muted&quot;&gt;${post.createAt}&lt;/small&gt;&#10;                                                    &lt;/div&gt;&#10;                                                &lt;/div&gt;&#10;                                                &lt;div class=&quot;card-body&quot;&gt;&#10;                                                    &lt;h5 class=&quot;card-title&quot;&gt;${post.title}&lt;/h5&gt;&#10;                                                    &lt;p class=&quot;card-text&quot;&gt;&#10;                                                        &lt;c:choose&gt;&#10;                                                            &lt;c:when test=&quot;${fn:length(post.body) &gt; 100}&quot;&gt;&#10;                                                                ${fn:substring(post.body, 0, 100)}...&#10;                                                            &lt;/c:when&gt;&#10;                                                            &lt;c:otherwise&gt;&#10;                                                                ${post.body}&#10;                                                            &lt;/c:otherwise&gt;&#10;                                                        &lt;/c:choose&gt;&#10;                                                    &lt;/p&gt;&#10;                                                    &lt;div class=&quot;d-flex justify-content-between align-items-center&quot;&gt;&#10;                                                        &lt;span class=&quot;badge ${post.status eq 'PUBLIC' ? 'bg-success' : 'bg-warning text-dark'}&quot;&gt;&#10;                                                            &lt;i class=&quot;fas fa-${post.status eq 'PUBLIC' ? 'globe' : 'lock'}&quot;&gt;&lt;/i&gt;&#10;                                                            ${post.status eq 'PUBLIC' ? 'Công khai' : 'Riêng tư'}&#10;                                                        &lt;/span&gt;&#10;                                                        &lt;a href=&quot;${pageContext.request.contextPath}/web/profile/${post.userId}&quot; class=&quot;btn btn-outline-primary btn-sm&quot;&gt;&#10;                                                            &lt;i class=&quot;fas fa-user&quot;&gt;&lt;/i&gt; Xem profile&#10;                                                        &lt;/a&gt;&#10;                                                    &lt;/div&gt;&#10;                                                &lt;/div&gt;&#10;                                            &lt;/div&gt;&#10;                                        &lt;/div&gt;&#10;                                    &lt;/c:forEach&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/c:otherwise&gt;&#10;                        &lt;/c:choose&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;            &lt;/main&gt;&#10;        &lt;/div&gt;&#10;    &lt;/div&gt;&#10;&#10;    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;&#10;&lt;/body&gt;&#10;&lt;/html&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/webapp/WEB-INF/views/posts.jsp">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/webapp/WEB-INF/views/posts.jsp" />
              <option name="originalContent" value="&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;&#10;&lt;%@ taglib uri=&quot;jakarta.tags.core&quot; prefix=&quot;c&quot; %&gt;&#10;&lt;%@ taglib uri=&quot;jakarta.tags.fmt&quot; prefix=&quot;fmt&quot; %&gt;&#10;&lt;%@ taglib uri=&quot;jakarta.tags.functions&quot; prefix=&quot;fn&quot; %&gt;&#10;&lt;!DOCTYPE html&gt;&#10;&lt;html lang=&quot;vi&quot;&gt;&#10;&lt;head&gt;&#10;    &lt;meta charset=&quot;UTF-8&quot;&gt;&#10;    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;&#10;    &lt;title&gt;Tất cả bài viết - Chat App Demo&lt;/title&gt;&#10;    &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;&#10;    &lt;link href=&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css&quot; rel=&quot;stylesheet&quot;&gt;&#10;    &lt;link rel=&quot;stylesheet&quot; href=&quot;${pageContext.request.contextPath}/static/css/style.css&quot;&gt;&#10;    &lt;style&gt;&#10;        .sidebar {&#10;            min-height: 100vh;&#10;            background-color: #f8f9fa;&#10;        }&#10;        .post-card {&#10;            border-left: 4px solid #007bff;&#10;            margin-bottom: 20px;&#10;        }&#10;        .user-avatar {&#10;            width: 50px;&#10;            height: 50px;&#10;            background-color: #007bff;&#10;            border-radius: 50%;&#10;            display: flex;&#10;            align-items: center;&#10;            justify-content: center;&#10;            color: white;&#10;            font-weight: bold;&#10;            font-size: 18px;&#10;        }&#10;    &lt;/style&gt;&#10;&lt;/head&gt;&#10;&lt;body&gt;&#10;    &lt;div class=&quot;container-fluid&quot;&gt;&#10;        &lt;div class=&quot;row&quot;&gt;&#10;            &lt;!-- Sidebar --&gt;&#10;            &lt;nav class=&quot;col-md-3 col-lg-2 d-md-block sidebar collapse&quot;&gt;&#10;                &lt;div class=&quot;position-sticky pt-3&quot;&gt;&#10;                    &lt;h5 class=&quot;text-center mb-4&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-comments&quot;&gt;&lt;/i&gt; Chat App Demo&#10;                    &lt;/h5&gt;&#10;                    &lt;ul class=&quot;nav flex-column&quot;&gt;&#10;                        &lt;li class=&quot;nav-item&quot;&gt;&#10;                            &lt;a class=&quot;nav-link&quot; href=&quot;${pageContext.request.contextPath}/web/&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-home&quot;&gt;&lt;/i&gt; Trang chủ&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                        &lt;li class=&quot;nav-item&quot;&gt;&#10;                            &lt;a class=&quot;nav-link active&quot; href=&quot;${pageContext.request.contextPath}/web/posts&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-newspaper&quot;&gt;&lt;/i&gt; Tất cả bài viết&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                        &lt;li class=&quot;nav-item&quot;&gt;&#10;                            &lt;a class=&quot;nav-link&quot; href=&quot;${pageContext.request.contextPath}/web/users&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-users&quot;&gt;&lt;/i&gt; Người dùng&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                    &lt;/ul&gt;&#10;                &lt;/div&gt;&#10;            &lt;/nav&gt;&#10;&#10;            &lt;!-- Main content --&gt;&#10;            &lt;main class=&quot;col-md-9 ms-sm-auto col-lg-10 px-md-4&quot;&gt;&#10;                &lt;div class=&quot;d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom&quot;&gt;&#10;                    &lt;h1 class=&quot;h2&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-newspaper&quot;&gt;&lt;/i&gt; Tất cả bài viết&#10;                    &lt;/h1&gt;&#10;                    &lt;div class=&quot;btn-toolbar mb-2 mb-md-0&quot;&gt;&#10;                        &lt;div class=&quot;btn-group me-2&quot;&gt;&#10;                            &lt;span class=&quot;badge bg-primary&quot;&gt;Tổng: ${fn:length(posts)} bài viết&lt;/span&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;!-- Success/Error Messages --&gt;&#10;                &lt;c:if test=&quot;${not empty success}&quot;&gt;&#10;                    &lt;div class=&quot;alert alert-success alert-dismissible fade show&quot; role=&quot;alert&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-check-circle&quot;&gt;&lt;/i&gt; ${success}&#10;                        &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;alert&quot;&gt;&lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/c:if&gt;&#10;&#10;                &lt;c:if test=&quot;${not empty error}&quot;&gt;&#10;                    &lt;div class=&quot;alert alert-danger alert-dismissible fade show&quot; role=&quot;alert&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-exclamation-circle&quot;&gt;&lt;/i&gt; ${error}&#10;                        &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;alert&quot;&gt;&lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/c:if&gt;&#10;&#10;                &lt;!-- Posts List --&gt;&#10;                &lt;div class=&quot;row&quot;&gt;&#10;                    &lt;div class=&quot;col-12&quot;&gt;&#10;                        &lt;c:choose&gt;&#10;                            &lt;c:when test=&quot;${empty posts}&quot;&gt;&#10;                                &lt;div class=&quot;alert alert-info text-center&quot;&gt;&#10;                                    &lt;i class=&quot;fas fa-info-circle&quot;&gt;&lt;/i&gt; Chưa có bài viết nào được đăng.&#10;                                    &lt;br&gt;&lt;br&gt;&#10;                                    &lt;p class=&quot;text-muted&quot;&gt;Hãy truy cập profile của người dùng để tạo bài viết mới.&lt;/p&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/c:when&gt;&#10;                            &lt;c:otherwise&gt;&#10;                                &lt;c:forEach items=&quot;${posts}&quot; var=&quot;post&quot;&gt;&#10;                                    &lt;div class=&quot;card post-card&quot;&gt;&#10;                                        &lt;div class=&quot;card-header&quot;&gt;&#10;                                            &lt;div class=&quot;d-flex align-items-center justify-content-between&quot;&gt;&#10;                                                &lt;div class=&quot;d-flex align-items-center&quot;&gt;&#10;                                                    &lt;div class=&quot;user-avatar me-3&quot;&gt;&#10;                                                        &lt;c:choose&gt;&#10;                                                            &lt;c:when test=&quot;${not empty post.username}&quot;&gt;&#10;                                                                ${fn:toUpperCase(fn:substring(post.username, 0, 1))}&#10;                                                            &lt;/c:when&gt;&#10;                                                            &lt;c:otherwise&gt;U&lt;/c:otherwise&gt;&#10;                                                        &lt;/c:choose&gt;&#10;                                                    &lt;/div&gt;&#10;                                                    &lt;div&gt;&#10;                                                        &lt;h6 class=&quot;mb-0&quot;&gt;&#10;                                                            &lt;c:choose&gt;&#10;                                                                &lt;c:when test=&quot;${not empty post.username}&quot;&gt;${post.username}&lt;/c:when&gt;&#10;                                                                &lt;c:otherwise&gt;Người dùng&lt;/c:otherwise&gt;&#10;                                                            &lt;/c:choose&gt;&#10;                                                        &lt;/h6&gt;&#10;                                                        &lt;small class=&quot;text-muted&quot;&gt;${post.createAt}&lt;/small&gt;&#10;                                                    &lt;/div&gt;&#10;                                                &lt;/div&gt;&#10;                                                &lt;div class=&quot;dropdown&quot;&gt;&#10;                                                    &lt;button class=&quot;btn btn-sm btn-outline-secondary dropdown-toggle&quot; type=&quot;button&quot; data-bs-toggle=&quot;dropdown&quot;&gt;&#10;                                                        &lt;i class=&quot;fas fa-ellipsis-v&quot;&gt;&lt;/i&gt;&#10;                                                    &lt;/button&gt;&#10;                                                    &lt;ul class=&quot;dropdown-menu&quot;&gt;&#10;                                                        &lt;li&gt;&lt;a class=&quot;dropdown-item&quot; href=&quot;${pageContext.request.contextPath}/web/profile/${post.userId}&quot;&gt;&#10;                                                            &lt;i class=&quot;fas fa-user&quot;&gt;&lt;/i&gt; Xem profile&#10;                                                        &lt;/a&gt;&lt;/li&gt;&#10;                                                        &lt;li&gt;&lt;a class=&quot;dropdown-item&quot; href=&quot;${pageContext.request.contextPath}/web/posts/user/${post.userId}&quot;&gt;&#10;                                                            &lt;i class=&quot;fas fa-newspaper&quot;&gt;&lt;/i&gt; Bài viết của người này&#10;                                                        &lt;/a&gt;&lt;/li&gt;&#10;                                                    &lt;/ul&gt;&#10;                                                &lt;/div&gt;&#10;                                            &lt;/div&gt;&#10;                                        &lt;/div&gt;&#10;                                        &lt;div class=&quot;card-body&quot;&gt;&#10;                                            &lt;h5 class=&quot;card-title&quot;&gt;${post.title}&lt;/h5&gt;&#10;                                            &lt;p class=&quot;card-text&quot;&gt;${post.body}&lt;/p&gt;&#10;                                            &lt;div class=&quot;d-flex justify-content-between align-items-center&quot;&gt;&#10;                                                &lt;span class=&quot;badge ${post.status eq 'ACTIVE' ? 'bg-success' : 'bg-secondary'}&quot;&gt;${post.status}&lt;/span&gt;&#10;                                                &lt;small class=&quot;text-muted&quot;&gt;ID: ${post.id}&lt;/small&gt;&#10;                                            &lt;/div&gt;&#10;                                        &lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;                                &lt;/c:forEach&gt;&#10;                            &lt;/c:otherwise&gt;&#10;                        &lt;/c:choose&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;            &lt;/main&gt;&#10;        &lt;/div&gt;&#10;    &lt;/div&gt;&#10;&#10;    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;&#10;&lt;/body&gt;&#10;&lt;/html&gt;&#10;" />
              <option name="updatedContent" value="&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;&#10;&lt;%@ taglib uri=&quot;jakarta.tags.core&quot; prefix=&quot;c&quot; %&gt;&#10;&lt;%@ taglib uri=&quot;jakarta.tags.fmt&quot; prefix=&quot;fmt&quot; %&gt;&#10;&lt;%@ taglib uri=&quot;jakarta.tags.functions&quot; prefix=&quot;fn&quot; %&gt;&#10;&lt;!DOCTYPE html&gt;&#10;&lt;html lang=&quot;vi&quot;&gt;&#10;&lt;head&gt;&#10;    &lt;meta charset=&quot;UTF-8&quot;&gt;&#10;    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;&#10;    &lt;title&gt;Tất cả bài viết - Chat App Demo&lt;/title&gt;&#10;    &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;&#10;    &lt;link href=&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css&quot; rel=&quot;stylesheet&quot;&gt;&#10;    &lt;link rel=&quot;stylesheet&quot; href=&quot;${pageContext.request.contextPath}/static/css/style.css&quot;&gt;&#10;    &lt;style&gt;&#10;        .sidebar {&#10;            min-height: 100vh;&#10;            background-color: #f8f9fa;&#10;        }&#10;        .post-card {&#10;            border-left: 4px solid #007bff;&#10;            margin-bottom: 20px;&#10;        }&#10;        .user-avatar {&#10;            width: 50px;&#10;            height: 50px;&#10;            background-color: #007bff;&#10;            border-radius: 50%;&#10;            display: flex;&#10;            align-items: center;&#10;            justify-content: center;&#10;            color: white;&#10;            font-weight: bold;&#10;            font-size: 18px;&#10;        }&#10;    &lt;/style&gt;&#10;&lt;/head&gt;&#10;&lt;body&gt;&#10;    &lt;div class=&quot;container-fluid&quot;&gt;&#10;        &lt;div class=&quot;row&quot;&gt;&#10;            &lt;!-- Sidebar --&gt;&#10;            &lt;nav class=&quot;col-md-3 col-lg-2 d-md-block sidebar collapse&quot;&gt;&#10;                &lt;div class=&quot;position-sticky pt-3&quot;&gt;&#10;                    &lt;h5 class=&quot;text-center mb-4&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-comments&quot;&gt;&lt;/i&gt; Chat App Demo&#10;                    &lt;/h5&gt;&#10;                    &lt;ul class=&quot;nav flex-column&quot;&gt;&#10;                        &lt;li class=&quot;nav-item&quot;&gt;&#10;                            &lt;a class=&quot;nav-link&quot; href=&quot;${pageContext.request.contextPath}/web/&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-home&quot;&gt;&lt;/i&gt; Trang chủ&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                        &lt;li class=&quot;nav-item&quot;&gt;&#10;                            &lt;a class=&quot;nav-link active&quot; href=&quot;${pageContext.request.contextPath}/web/posts&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-newspaper&quot;&gt;&lt;/i&gt; Tất cả bài viết&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                        &lt;li class=&quot;nav-item&quot;&gt;&#10;                            &lt;a class=&quot;nav-link&quot; href=&quot;${pageContext.request.contextPath}/web/users&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-users&quot;&gt;&lt;/i&gt; Người dùng&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                    &lt;/ul&gt;&#10;                &lt;/div&gt;&#10;            &lt;/nav&gt;&#10;&#10;            &lt;!-- Main content --&gt;&#10;            &lt;main class=&quot;col-md-9 ms-sm-auto col-lg-10 px-md-4&quot;&gt;&#10;                &lt;div class=&quot;d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom&quot;&gt;&#10;                    &lt;h1 class=&quot;h2&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-newspaper&quot;&gt;&lt;/i&gt; Tất cả bài viết&#10;                    &lt;/h1&gt;&#10;                    &lt;div class=&quot;btn-toolbar mb-2 mb-md-0&quot;&gt;&#10;                        &lt;div class=&quot;btn-group me-2&quot;&gt;&#10;                            &lt;span class=&quot;badge bg-primary&quot;&gt;Tổng: ${fn:length(posts)} bài viết&lt;/span&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;!-- Success/Error Messages --&gt;&#10;                &lt;c:if test=&quot;${not empty success}&quot;&gt;&#10;                    &lt;div class=&quot;alert alert-success alert-dismissible fade show&quot; role=&quot;alert&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-check-circle&quot;&gt;&lt;/i&gt; ${success}&#10;                        &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;alert&quot;&gt;&lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/c:if&gt;&#10;&#10;                &lt;c:if test=&quot;${not empty error}&quot;&gt;&#10;                    &lt;div class=&quot;alert alert-danger alert-dismissible fade show&quot; role=&quot;alert&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-exclamation-circle&quot;&gt;&lt;/i&gt; ${error}&#10;                        &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;alert&quot;&gt;&lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/c:if&gt;&#10;&#10;                &lt;!-- Posts List --&gt;&#10;                &lt;div class=&quot;row&quot;&gt;&#10;                    &lt;div class=&quot;col-12&quot;&gt;&#10;                        &lt;c:choose&gt;&#10;                            &lt;c:when test=&quot;${empty posts}&quot;&gt;&#10;                                &lt;div class=&quot;alert alert-info text-center&quot;&gt;&#10;                                    &lt;i class=&quot;fas fa-info-circle&quot;&gt;&lt;/i&gt; Chưa có bài viết nào được đăng.&#10;                                    &lt;br&gt;&lt;br&gt;&#10;                                    &lt;p class=&quot;text-muted&quot;&gt;Hãy truy cập profile của người dùng để tạo bài viết mới.&lt;/p&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/c:when&gt;&#10;                            &lt;c:otherwise&gt;&#10;                                &lt;c:forEach items=&quot;${posts}&quot; var=&quot;post&quot;&gt;&#10;                                    &lt;div class=&quot;card post-card&quot;&gt;&#10;                                        &lt;div class=&quot;card-header&quot;&gt;&#10;                                            &lt;div class=&quot;d-flex align-items-center justify-content-between&quot;&gt;&#10;                                                &lt;div class=&quot;d-flex align-items-center&quot;&gt;&#10;                                                    &lt;div class=&quot;user-avatar me-3&quot;&gt;&#10;                                                        &lt;c:choose&gt;&#10;                                                            &lt;c:when test=&quot;${not empty post.username}&quot;&gt;&#10;                                                                ${fn:toUpperCase(fn:substring(post.username, 0, 1))}&#10;                                                            &lt;/c:when&gt;&#10;                                                            &lt;c:otherwise&gt;U&lt;/c:otherwise&gt;&#10;                                                        &lt;/c:choose&gt;&#10;                                                    &lt;/div&gt;&#10;                                                    &lt;div&gt;&#10;                                                        &lt;h6 class=&quot;mb-0&quot;&gt;&#10;                                                            &lt;c:choose&gt;&#10;                                                                &lt;c:when test=&quot;${not empty post.username}&quot;&gt;${post.username}&lt;/c:when&gt;&#10;                                                                &lt;c:otherwise&gt;Người dùng&lt;/c:otherwise&gt;&#10;                                                            &lt;/c:choose&gt;&#10;                                                        &lt;/h6&gt;&#10;                                                        &lt;small class=&quot;text-muted&quot;&gt;${post.createAt}&lt;/small&gt;&#10;                                                    &lt;/div&gt;&#10;                                                &lt;/div&gt;&#10;                                                &lt;div class=&quot;dropdown&quot;&gt;&#10;                                                    &lt;button class=&quot;btn btn-sm btn-outline-secondary dropdown-toggle&quot; type=&quot;button&quot; data-bs-toggle=&quot;dropdown&quot;&gt;&#10;                                                        &lt;i class=&quot;fas fa-ellipsis-v&quot;&gt;&lt;/i&gt;&#10;                                                    &lt;/button&gt;&#10;                                                    &lt;ul class=&quot;dropdown-menu&quot;&gt;&#10;                                                        &lt;li&gt;&lt;a class=&quot;dropdown-item&quot; href=&quot;${pageContext.request.contextPath}/web/profile/${post.userId}&quot;&gt;&#10;                                                            &lt;i class=&quot;fas fa-user&quot;&gt;&lt;/i&gt; Xem profile&#10;                                                        &lt;/a&gt;&lt;/li&gt;&#10;                                                        &lt;li&gt;&lt;a class=&quot;dropdown-item&quot; href=&quot;${pageContext.request.contextPath}/web/posts/user/${post.userId}&quot;&gt;&#10;                                                            &lt;i class=&quot;fas fa-newspaper&quot;&gt;&lt;/i&gt; Bài viết của người này&#10;                                                        &lt;/a&gt;&lt;/li&gt;&#10;                                                    &lt;/ul&gt;&#10;                                                &lt;/div&gt;&#10;                                            &lt;/div&gt;&#10;                                        &lt;/div&gt;&#10;                                        &lt;div class=&quot;card-body&quot;&gt;&#10;                                            &lt;h5 class=&quot;card-title&quot;&gt;${post.title}&lt;/h5&gt;&#10;                                            &lt;p class=&quot;card-text&quot;&gt;${post.body}&lt;/p&gt;&#10;                                            &lt;div class=&quot;d-flex justify-content-between align-items-center&quot;&gt;&#10;                                                &lt;span class=&quot;badge ${post.status eq 'PUBLIC' ? 'bg-success' : 'bg-warning text-dark'}&quot;&gt;&#10;                                                    &lt;i class=&quot;fas fa-${post.status eq 'PUBLIC' ? 'globe' : 'lock'}&quot;&gt;&lt;/i&gt;&#10;                                                    ${post.status eq 'PUBLIC' ? 'Công khai' : 'Riêng tư'}&#10;                                                &lt;/span&gt;&#10;                                                &lt;small class=&quot;text-muted&quot;&gt;ID: ${post.id}&lt;/small&gt;&#10;                                            &lt;/div&gt;&#10;                                        &lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;                                &lt;/c:forEach&gt;&#10;                            &lt;/c:otherwise&gt;&#10;                        &lt;/c:choose&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;            &lt;/main&gt;&#10;        &lt;/div&gt;&#10;    &lt;/div&gt;&#10;&#10;    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;&#10;&lt;/body&gt;&#10;&lt;/html&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/webapp/WEB-INF/views/profile.jsp">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/webapp/WEB-INF/views/profile.jsp" />
              <option name="originalContent" value="&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;&#10;&lt;%@ taglib uri=&quot;jakarta.tags.core&quot; prefix=&quot;c&quot; %&gt;&#10;&lt;%@ taglib uri=&quot;jakarta.tags.fmt&quot; prefix=&quot;fmt&quot; %&gt;&#10;&lt;%@ taglib uri=&quot;jakarta.tags.functions&quot; prefix=&quot;fn&quot; %&gt;&#10;&lt;!DOCTYPE html&gt;&#10;&lt;html lang=&quot;vi&quot;&gt;&#10;&lt;head&gt;&#10;    &lt;meta charset=&quot;UTF-8&quot;&gt;&#10;    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;&#10;    &lt;title&gt;Profile - Chat App Demo&lt;/title&gt;&#10;    &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;&#10;    &lt;link href=&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css&quot; rel=&quot;stylesheet&quot;&gt;&#10;    &lt;link rel=&quot;stylesheet&quot; href=&quot;${pageContext.request.contextPath}/static/css/style.css&quot;&gt;&#10;    &lt;style&gt;&#10;        .sidebar {&#10;            min-height: 100vh;&#10;            background-color: #f8f9fa;&#10;        }&#10;        .profile-avatar {&#10;            width: 120px;&#10;            height: 120px;&#10;            background-color: #007bff;&#10;            border-radius: 50%;&#10;            display: flex;&#10;            align-items: center;&#10;            justify-content: center;&#10;            color: white;&#10;            font-weight: bold;&#10;            font-size: 48px;&#10;            margin: 0 auto;&#10;        }&#10;        .stat-card {&#10;            border: none;&#10;            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);&#10;            color: white;&#10;        }&#10;        .post-card {&#10;            border-left: 4px solid #007bff;&#10;            margin-bottom: 15px;&#10;        }&#10;    &lt;/style&gt;&#10;&lt;/head&gt;&#10;&lt;body&gt;&#10;    &lt;div class=&quot;container-fluid&quot;&gt;&#10;        &lt;div class=&quot;row&quot;&gt;&#10;            &lt;!-- Sidebar --&gt;&#10;            &lt;nav class=&quot;col-md-3 col-lg-2 d-md-block sidebar collapse&quot;&gt;&#10;                &lt;div class=&quot;position-sticky pt-3&quot;&gt;&#10;                    &lt;h5 class=&quot;text-center mb-4&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-comments&quot;&gt;&lt;/i&gt; Chat App Demo&#10;                    &lt;/h5&gt;&#10;                    &lt;ul class=&quot;nav flex-column&quot;&gt;&#10;                        &lt;li class=&quot;nav-item&quot;&gt;&#10;                            &lt;a class=&quot;nav-link&quot; href=&quot;${pageContext.request.contextPath}/web/&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-home&quot;&gt;&lt;/i&gt; Trang chủ&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                        &lt;li class=&quot;nav-item&quot;&gt;&#10;                            &lt;a class=&quot;nav-link&quot; href=&quot;${pageContext.request.contextPath}/web/posts&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-newspaper&quot;&gt;&lt;/i&gt; Tất cả bài viết&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                        &lt;li class=&quot;nav-item&quot;&gt;&#10;                            &lt;a class=&quot;nav-link&quot; href=&quot;${pageContext.request.contextPath}/web/users&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-users&quot;&gt;&lt;/i&gt; Người dùng&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                        &lt;li class=&quot;nav-item&quot;&gt;&#10;                            &lt;a class=&quot;nav-link&quot; href=&quot;${pageContext.request.contextPath}/web/create-post&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-plus&quot;&gt;&lt;/i&gt; Tạo bài viết&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                    &lt;/ul&gt;&#10;                &lt;/div&gt;&#10;            &lt;/nav&gt;&#10;&#10;            &lt;!-- Main content --&gt;&#10;            &lt;main class=&quot;col-md-9 ms-sm-auto col-lg-10 px-md-4&quot;&gt;&#10;                &lt;!-- Profile Header --&gt;&#10;                &lt;div class=&quot;row mt-4&quot;&gt;&#10;                    &lt;div class=&quot;col-12&quot;&gt;&#10;                        &lt;div class=&quot;card&quot;&gt;&#10;                            &lt;div class=&quot;card-body text-center&quot;&gt;&#10;                                &lt;div class=&quot;profile-avatar mb-3&quot;&gt;&#10;                                    &lt;c:choose&gt;&#10;                                        &lt;c:when test=&quot;${not empty user.userName}&quot;&gt;&#10;                                            ${fn:toUpperCase(fn:substring(user.userName, 0, 1))}&#10;                                        &lt;/c:when&gt;&#10;                                        &lt;c:otherwise&gt;U&lt;/c:otherwise&gt;&#10;                                    &lt;/c:choose&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;h2&gt;${not empty user.userName ? user.userName : 'Người dùng'}&lt;/h2&gt;&#10;                                &lt;p class=&quot;text-muted&quot;&gt;&#10;                                    &lt;span class=&quot;badge ${user.role eq 'ADMIN' ? 'bg-danger' : 'bg-primary'}&quot;&gt;${user.role}&lt;/span&gt;&#10;                                &lt;/p&gt;&#10;                                &lt;p class=&quot;text-muted&quot;&gt;&#10;                                    &lt;i class=&quot;fas fa-calendar-alt&quot;&gt;&lt;/i&gt; Tham gia từ: ${user.createAt}&#10;                                &lt;/p&gt;&#10;&#10;                                &lt;!-- Action buttons --&gt;&#10;                                &lt;div class=&quot;mt-3&quot;&gt;&#10;                                    &lt;a href=&quot;${pageContext.request.contextPath}/web/create-post?userId=${user.id}&quot; class=&quot;btn btn-primary me-2&quot;&gt;&#10;                                        &lt;i class=&quot;fas fa-plus&quot;&gt;&lt;/i&gt; Tạo bài viết&#10;                                    &lt;/a&gt;&#10;                                    &lt;a href=&quot;${pageContext.request.contextPath}/web/user/edit/${user.id}&quot; class=&quot;btn btn-warning me-2&quot;&gt;&#10;                                        &lt;i class=&quot;fas fa-edit&quot;&gt;&lt;/i&gt; Chỉnh sửa&#10;                                    &lt;/a&gt;&#10;                                    &lt;button type=&quot;button&quot; class=&quot;btn btn-danger&quot; data-bs-toggle=&quot;modal&quot; data-bs-target=&quot;#deleteModal&quot;&gt;&#10;                                        &lt;i class=&quot;fas fa-trash&quot;&gt;&lt;/i&gt; Xóa&#10;                                    &lt;/button&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;!-- Stats Cards --&gt;&#10;                &lt;div class=&quot;row mt-4&quot;&gt;&#10;                    &lt;div class=&quot;col-md-4 mb-3&quot;&gt;&#10;                        &lt;div class=&quot;card stat-card&quot;&gt;&#10;                            &lt;div class=&quot;card-body text-center&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-newspaper fa-2x mb-2&quot;&gt;&lt;/i&gt;&#10;                                &lt;h3&gt;${fn:length(posts)}&lt;/h3&gt;&#10;                                &lt;p class=&quot;mb-0&quot;&gt;Bài viết&lt;/p&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                    &lt;div class=&quot;col-md-4 mb-3&quot;&gt;&#10;                        &lt;div class=&quot;card stat-card&quot;&gt;&#10;                            &lt;div class=&quot;card-body text-center&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-users fa-2x mb-2&quot;&gt;&lt;/i&gt;&#10;                                &lt;h3&gt;${fn:length(followers)}&lt;/h3&gt;&#10;                                &lt;p class=&quot;mb-0&quot;&gt;Người theo dõi&lt;/p&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                    &lt;div class=&quot;col-md-4 mb-3&quot;&gt;&#10;                        &lt;div class=&quot;card stat-card&quot;&gt;&#10;                            &lt;div class=&quot;card-body text-center&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-user-friends fa-2x mb-2&quot;&gt;&lt;/i&gt;&#10;                                &lt;h3&gt;${fn:length(followings)}&lt;/h3&gt;&#10;                                &lt;p class=&quot;mb-0&quot;&gt;Đang theo dõi&lt;/p&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;!-- Error/Success Messages --&gt;&#10;                &lt;c:if test=&quot;${not empty error}&quot;&gt;&#10;                    &lt;div class=&quot;alert alert-danger alert-dismissible fade show&quot; role=&quot;alert&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-exclamation-triangle&quot;&gt;&lt;/i&gt; ${error}&#10;                        &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;alert&quot;&gt;&lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/c:if&gt;&#10;&#10;                &lt;!-- Posts Section --&gt;&#10;                &lt;div class=&quot;row mt-4&quot;&gt;&#10;                    &lt;div class=&quot;col-12&quot;&gt;&#10;                        &lt;h4&gt;&lt;i class=&quot;fas fa-newspaper&quot;&gt;&lt;/i&gt; Bài viết của ${user.userName}&lt;/h4&gt;&#10;                        &lt;hr&gt;&#10;                        &lt;c:choose&gt;&#10;                            &lt;c:when test=&quot;${empty posts}&quot;&gt;&#10;                                &lt;div class=&quot;alert alert-info text-center&quot;&gt;&#10;                                    &lt;i class=&quot;fas fa-info-circle&quot;&gt;&lt;/i&gt; Người dùng này chưa có bài viết nào.&#10;                                &lt;/div&gt;&#10;                            &lt;/c:when&gt;&#10;                            &lt;c:otherwise&gt;&#10;                                &lt;c:forEach items=&quot;${posts}&quot; var=&quot;post&quot;&gt;&#10;                                    &lt;div class=&quot;card post-card&quot;&gt;&#10;                                        &lt;div class=&quot;card-body&quot;&gt;&#10;                                            &lt;h5 class=&quot;card-title&quot;&gt;${post.title}&lt;/h5&gt;&#10;                                            &lt;p class=&quot;card-text&quot;&gt;${post.body}&lt;/p&gt;&#10;                                            &lt;div class=&quot;d-flex justify-content-between align-items-center&quot;&gt;&#10;                                                &lt;span class=&quot;badge ${post.status eq 'ACTIVE' ? 'bg-success' : 'bg-secondary'}&quot;&gt;${post.status}&lt;/span&gt;&#10;                                                &lt;small class=&quot;text-muted&quot;&gt;${post.createAt}&lt;/small&gt;&#10;                                            &lt;/div&gt;&#10;                                        &lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;                                &lt;/c:forEach&gt;&#10;                            &lt;/c:otherwise&gt;&#10;                        &lt;/c:choose&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;            &lt;/main&gt;&#10;        &lt;/div&gt;&#10;    &lt;/div&gt;&#10;&#10;    &lt;!-- Delete User Modal --&gt;&#10;    &lt;div class=&quot;modal fade&quot; id=&quot;deleteModal&quot; tabindex=&quot;-1&quot; aria-labelledby=&quot;deleteModalLabel&quot; aria-hidden=&quot;true&quot;&gt;&#10;        &lt;div class=&quot;modal-dialog&quot;&gt;&#10;            &lt;div class=&quot;modal-content&quot;&gt;&#10;                &lt;div class=&quot;modal-header bg-danger text-white&quot;&gt;&#10;                    &lt;h5 class=&quot;modal-title&quot; id=&quot;deleteModalLabel&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-exclamation-triangle&quot;&gt;&lt;/i&gt; Xác nhận xóa người dùng&#10;                    &lt;/h5&gt;&#10;                    &lt;button type=&quot;button&quot; class=&quot;btn-close btn-close-white&quot; data-bs-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;&lt;/button&gt;&#10;                &lt;/div&gt;&#10;                &lt;div class=&quot;modal-body&quot;&gt;&#10;                    &lt;p&gt;&lt;strong&gt;Cảnh báo:&lt;/strong&gt; Bạn có chắc chắn muốn xóa người dùng &lt;strong&gt;${user.userName}&lt;/strong&gt;?&lt;/p&gt;&#10;                    &lt;p class=&quot;text-danger&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-info-circle&quot;&gt;&lt;/i&gt;&#10;                        Hành động này sẽ xóa vĩnh viễn tất cả dữ liệu của người dùng bao gồm bài viết và mối quan hệ theo dõi.&#10;                        &lt;strong&gt;Không thể hoàn tác!&lt;/strong&gt;&#10;                    &lt;/p&gt;&#10;                &lt;/div&gt;&#10;                &lt;div class=&quot;modal-footer&quot;&gt;&#10;                    &lt;button type=&quot;button&quot; class=&quot;btn btn-secondary&quot; data-bs-dismiss=&quot;modal&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-times&quot;&gt;&lt;/i&gt; Hủy bỏ&#10;                    &lt;/button&gt;&#10;                    &lt;form method=&quot;post&quot; action=&quot;${pageContext.request.contextPath}/web/user/delete/${user.id}&quot; style=&quot;display: inline;&quot;&gt;&#10;                        &lt;button type=&quot;submit&quot; class=&quot;btn btn-danger&quot;&gt;&#10;                            &lt;i class=&quot;fas fa-trash&quot;&gt;&lt;/i&gt; Xóa người dùng&#10;                        &lt;/button&gt;&#10;                    &lt;/form&gt;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;    &lt;/div&gt;&#10;&#10;    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;&#10;&lt;/body&gt;&#10;&lt;/html&gt;&#10;" />
              <option name="updatedContent" value="&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;&#10;&lt;%@ taglib uri=&quot;jakarta.tags.core&quot; prefix=&quot;c&quot; %&gt;&#10;&lt;%@ taglib uri=&quot;jakarta.tags.fmt&quot; prefix=&quot;fmt&quot; %&gt;&#10;&lt;%@ taglib uri=&quot;jakarta.tags.functions&quot; prefix=&quot;fn&quot; %&gt;&#10;&lt;!DOCTYPE html&gt;&#10;&lt;html lang=&quot;vi&quot;&gt;&#10;&lt;head&gt;&#10;    &lt;meta charset=&quot;UTF-8&quot;&gt;&#10;    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;&#10;    &lt;title&gt;Profile - Chat App Demo&lt;/title&gt;&#10;    &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;&#10;    &lt;link href=&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css&quot; rel=&quot;stylesheet&quot;&gt;&#10;    &lt;link rel=&quot;stylesheet&quot; href=&quot;${pageContext.request.contextPath}/static/css/style.css&quot;&gt;&#10;    &lt;style&gt;&#10;        .sidebar {&#10;            min-height: 100vh;&#10;            background-color: #f8f9fa;&#10;        }&#10;        .profile-avatar {&#10;            width: 120px;&#10;            height: 120px;&#10;            background-color: #007bff;&#10;            border-radius: 50%;&#10;            display: flex;&#10;            align-items: center;&#10;            justify-content: center;&#10;            color: white;&#10;            font-weight: bold;&#10;            font-size: 48px;&#10;            margin: 0 auto;&#10;        }&#10;        .stat-card {&#10;            border: none;&#10;            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);&#10;            color: white;&#10;        }&#10;        .post-card {&#10;            border-left: 4px solid #007bff;&#10;            margin-bottom: 15px;&#10;        }&#10;    &lt;/style&gt;&#10;&lt;/head&gt;&#10;&lt;body&gt;&#10;    &lt;div class=&quot;container-fluid&quot;&gt;&#10;        &lt;div class=&quot;row&quot;&gt;&#10;            &lt;!-- Sidebar --&gt;&#10;            &lt;nav class=&quot;col-md-3 col-lg-2 d-md-block sidebar collapse&quot;&gt;&#10;                &lt;div class=&quot;position-sticky pt-3&quot;&gt;&#10;                    &lt;h5 class=&quot;text-center mb-4&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-comments&quot;&gt;&lt;/i&gt; Chat App Demo&#10;                    &lt;/h5&gt;&#10;                    &lt;ul class=&quot;nav flex-column&quot;&gt;&#10;                        &lt;li class=&quot;nav-item&quot;&gt;&#10;                            &lt;a class=&quot;nav-link&quot; href=&quot;${pageContext.request.contextPath}/web/&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-home&quot;&gt;&lt;/i&gt; Trang chủ&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                        &lt;li class=&quot;nav-item&quot;&gt;&#10;                            &lt;a class=&quot;nav-link&quot; href=&quot;${pageContext.request.contextPath}/web/posts&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-newspaper&quot;&gt;&lt;/i&gt; Tất cả bài viết&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                        &lt;li class=&quot;nav-item&quot;&gt;&#10;                            &lt;a class=&quot;nav-link&quot; href=&quot;${pageContext.request.contextPath}/web/users&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-users&quot;&gt;&lt;/i&gt; Người dùng&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                        &lt;li class=&quot;nav-item&quot;&gt;&#10;                            &lt;a class=&quot;nav-link&quot; href=&quot;${pageContext.request.contextPath}/web/create-post&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-plus&quot;&gt;&lt;/i&gt; Tạo bài viết&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                    &lt;/ul&gt;&#10;                &lt;/div&gt;&#10;            &lt;/nav&gt;&#10;&#10;            &lt;!-- Main content --&gt;&#10;            &lt;main class=&quot;col-md-9 ms-sm-auto col-lg-10 px-md-4&quot;&gt;&#10;                &lt;!-- Profile Header --&gt;&#10;                &lt;div class=&quot;row mt-4&quot;&gt;&#10;                    &lt;div class=&quot;col-12&quot;&gt;&#10;                        &lt;div class=&quot;card&quot;&gt;&#10;                            &lt;div class=&quot;card-body text-center&quot;&gt;&#10;                                &lt;div class=&quot;profile-avatar mb-3&quot;&gt;&#10;                                    &lt;c:choose&gt;&#10;                                        &lt;c:when test=&quot;${not empty user.userName}&quot;&gt;&#10;                                            ${fn:toUpperCase(fn:substring(user.userName, 0, 1))}&#10;                                        &lt;/c:when&gt;&#10;                                        &lt;c:otherwise&gt;U&lt;/c:otherwise&gt;&#10;                                    &lt;/c:choose&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;h2&gt;${not empty user.userName ? user.userName : 'Người dùng'}&lt;/h2&gt;&#10;                                &lt;p class=&quot;text-muted&quot;&gt;&#10;                                    &lt;span class=&quot;badge ${user.role eq 'ADMIN' ? 'bg-danger' : 'bg-primary'}&quot;&gt;${user.role}&lt;/span&gt;&#10;                                &lt;/p&gt;&#10;                                &lt;p class=&quot;text-muted&quot;&gt;&#10;                                    &lt;i class=&quot;fas fa-calendar-alt&quot;&gt;&lt;/i&gt; Tham gia từ: ${user.createAt}&#10;                                &lt;/p&gt;&#10;&#10;                                &lt;!-- Action buttons --&gt;&#10;                                &lt;div class=&quot;mt-3&quot;&gt;&#10;                                    &lt;a href=&quot;${pageContext.request.contextPath}/web/create-post?userId=${user.id}&quot; class=&quot;btn btn-primary me-2&quot;&gt;&#10;                                        &lt;i class=&quot;fas fa-plus&quot;&gt;&lt;/i&gt; Tạo bài viết&#10;                                    &lt;/a&gt;&#10;                                    &lt;a href=&quot;${pageContext.request.contextPath}/web/user/edit/${user.id}&quot; class=&quot;btn btn-warning me-2&quot;&gt;&#10;                                        &lt;i class=&quot;fas fa-edit&quot;&gt;&lt;/i&gt; Chỉnh sửa&#10;                                    &lt;/a&gt;&#10;                                    &lt;button type=&quot;button&quot; class=&quot;btn btn-danger&quot; data-bs-toggle=&quot;modal&quot; data-bs-target=&quot;#deleteModal&quot;&gt;&#10;                                        &lt;i class=&quot;fas fa-trash&quot;&gt;&lt;/i&gt; Xóa&#10;                                    &lt;/button&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;!-- Stats Cards --&gt;&#10;                &lt;div class=&quot;row mt-4&quot;&gt;&#10;                    &lt;div class=&quot;col-md-4 mb-3&quot;&gt;&#10;                        &lt;div class=&quot;card stat-card&quot;&gt;&#10;                            &lt;div class=&quot;card-body text-center&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-newspaper fa-2x mb-2&quot;&gt;&lt;/i&gt;&#10;                                &lt;h3&gt;${fn:length(posts)}&lt;/h3&gt;&#10;                                &lt;p class=&quot;mb-0&quot;&gt;Bài viết&lt;/p&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                    &lt;div class=&quot;col-md-4 mb-3&quot;&gt;&#10;                        &lt;div class=&quot;card stat-card&quot;&gt;&#10;                            &lt;div class=&quot;card-body text-center&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-users fa-2x mb-2&quot;&gt;&lt;/i&gt;&#10;                                &lt;h3&gt;${fn:length(followers)}&lt;/h3&gt;&#10;                                &lt;p class=&quot;mb-0&quot;&gt;Người theo dõi&lt;/p&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                    &lt;div class=&quot;col-md-4 mb-3&quot;&gt;&#10;                        &lt;div class=&quot;card stat-card&quot;&gt;&#10;                            &lt;div class=&quot;card-body text-center&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-user-friends fa-2x mb-2&quot;&gt;&lt;/i&gt;&#10;                                &lt;h3&gt;${fn:length(followings)}&lt;/h3&gt;&#10;                                &lt;p class=&quot;mb-0&quot;&gt;Đang theo dõi&lt;/p&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;!-- Error/Success Messages --&gt;&#10;                &lt;c:if test=&quot;${not empty error}&quot;&gt;&#10;                    &lt;div class=&quot;alert alert-danger alert-dismissible fade show&quot; role=&quot;alert&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-exclamation-triangle&quot;&gt;&lt;/i&gt; ${error}&#10;                        &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;alert&quot;&gt;&lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/c:if&gt;&#10;&#10;                &lt;!-- Posts Section --&gt;&#10;                &lt;div class=&quot;row mt-4&quot;&gt;&#10;                    &lt;div class=&quot;col-12&quot;&gt;&#10;                        &lt;h4&gt;&lt;i class=&quot;fas fa-newspaper&quot;&gt;&lt;/i&gt; Bài viết của ${user.userName}&lt;/h4&gt;&#10;                        &lt;hr&gt;&#10;                        &lt;c:choose&gt;&#10;                            &lt;c:when test=&quot;${empty posts}&quot;&gt;&#10;                                &lt;div class=&quot;alert alert-info text-center&quot;&gt;&#10;                                    &lt;i class=&quot;fas fa-info-circle&quot;&gt;&lt;/i&gt; Người dùng này chưa có bài viết nào.&#10;                                &lt;/div&gt;&#10;                            &lt;/c:when&gt;&#10;                            &lt;c:otherwise&gt;&#10;                                &lt;c:forEach items=&quot;${posts}&quot; var=&quot;post&quot;&gt;&#10;                                    &lt;div class=&quot;card post-card&quot;&gt;&#10;                                        &lt;div class=&quot;card-body&quot;&gt;&#10;                                            &lt;h5 class=&quot;card-title&quot;&gt;${post.title}&lt;/h5&gt;&#10;                                            &lt;p class=&quot;card-text&quot;&gt;${post.body}&lt;/p&gt;&#10;                                            &lt;div class=&quot;d-flex justify-content-between align-items-center&quot;&gt;&#10;                                                &lt;span class=&quot;badge ${post.status eq 'PUBLIC' ? 'bg-success' : 'bg-warning text-dark'}&quot;&gt;&#10;                                                    &lt;i class=&quot;fas fa-${post.status eq 'PUBLIC' ? 'globe' : 'lock'}&quot;&gt;&lt;/i&gt;&#10;                                                    ${post.status eq 'PUBLIC' ? 'Công khai' : 'Riêng tư'}&#10;                                                &lt;/span&gt;&#10;                                                &lt;small class=&quot;text-muted&quot;&gt;${post.createAt}&lt;/small&gt;&#10;                                            &lt;/div&gt;&#10;                                        &lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;                                &lt;/c:forEach&gt;&#10;                            &lt;/c:otherwise&gt;&#10;                        &lt;/c:choose&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;            &lt;/main&gt;&#10;        &lt;/div&gt;&#10;    &lt;/div&gt;&#10;&#10;    &lt;!-- Delete User Modal --&gt;&#10;    &lt;div class=&quot;modal fade&quot; id=&quot;deleteModal&quot; tabindex=&quot;-1&quot; aria-labelledby=&quot;deleteModalLabel&quot; aria-hidden=&quot;true&quot;&gt;&#10;        &lt;div class=&quot;modal-dialog&quot;&gt;&#10;            &lt;div class=&quot;modal-content&quot;&gt;&#10;                &lt;div class=&quot;modal-header bg-danger text-white&quot;&gt;&#10;                    &lt;h5 class=&quot;modal-title&quot; id=&quot;deleteModalLabel&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-exclamation-triangle&quot;&gt;&lt;/i&gt; Xác nhận xóa người dùng&#10;                    &lt;/h5&gt;&#10;                    &lt;button type=&quot;button&quot; class=&quot;btn-close btn-close-white&quot; data-bs-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;&lt;/button&gt;&#10;                &lt;/div&gt;&#10;                &lt;div class=&quot;modal-body&quot;&gt;&#10;                    &lt;p&gt;&lt;strong&gt;Cảnh báo:&lt;/strong&gt; Bạn có chắc chắn muốn xóa người dùng &lt;strong&gt;${user.userName}&lt;/strong&gt;?&lt;/p&gt;&#10;                    &lt;p class=&quot;text-danger&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-info-circle&quot;&gt;&lt;/i&gt;&#10;                        Hành động này sẽ xóa vĩnh viễn tất cả dữ liệu của người dùng bao gồm bài viết và mối quan hệ theo dõi.&#10;                        &lt;strong&gt;Không thể hoàn tác!&lt;/strong&gt;&#10;                    &lt;/p&gt;&#10;                &lt;/div&gt;&#10;                &lt;div class=&quot;modal-footer&quot;&gt;&#10;                    &lt;button type=&quot;button&quot; class=&quot;btn btn-secondary&quot; data-bs-dismiss=&quot;modal&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-times&quot;&gt;&lt;/i&gt; Hủy bỏ&#10;                    &lt;/button&gt;&#10;                    &lt;form method=&quot;post&quot; action=&quot;${pageContext.request.contextPath}/web/user/delete/${user.id}&quot; style=&quot;display: inline;&quot;&gt;&#10;                        &lt;button type=&quot;submit&quot; class=&quot;btn btn-danger&quot;&gt;&#10;                            &lt;i class=&quot;fas fa-trash&quot;&gt;&lt;/i&gt; Xóa người dùng&#10;                        &lt;/button&gt;&#10;                    &lt;/form&gt;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;    &lt;/div&gt;&#10;&#10;    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;&#10;&lt;/body&gt;&#10;&lt;/html&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/webapp/WEB-INF/views/test.jsp">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/webapp/WEB-INF/views/test.jsp" />
              <option name="updatedContent" value="&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;&#10;&lt;%@ taglib uri=&quot;jakarta.tags.core&quot; prefix=&quot;c&quot; %&gt;&#10;&lt;!DOCTYPE html&gt;&#10;&lt;html lang=&quot;vi&quot;&gt;&#10;&lt;head&gt;&#10;    &lt;meta charset=&quot;UTF-8&quot;&gt;&#10;    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;&#10;    &lt;title&gt;Test Page - Chat App Demo&lt;/title&gt;&#10;    &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;&#10;    &lt;link href=&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css&quot; rel=&quot;stylesheet&quot;&gt;&#10;    &lt;link rel=&quot;stylesheet&quot; href=&quot;${pageContext.request.contextPath}/static/css/style.css&quot;&gt;&#10;&lt;/head&gt;&#10;&lt;body&gt;&#10;    &lt;div class=&quot;container mt-5&quot;&gt;&#10;        &lt;div class=&quot;row justify-content-center&quot;&gt;&#10;            &lt;div class=&quot;col-lg-8&quot;&gt;&#10;                &lt;div class=&quot;card&quot;&gt;&#10;                    &lt;div class=&quot;card-header bg-success text-white&quot;&gt;&#10;                        &lt;h4 class=&quot;card-title mb-0&quot;&gt;&#10;                            &lt;i class=&quot;fas fa-check-circle&quot;&gt;&lt;/i&gt; Spring MVC Test Page&#10;                        &lt;/h4&gt;&#10;                    &lt;/div&gt;&#10;                    &lt;div class=&quot;card-body&quot;&gt;&#10;                        &lt;c:if test=&quot;${not empty message}&quot;&gt;&#10;                            &lt;div class=&quot;alert alert-success&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-info-circle&quot;&gt;&lt;/i&gt; ${message}&#10;                            &lt;/div&gt;&#10;                        &lt;/c:if&gt;&#10;&#10;                        &lt;h5&gt;Thông tin System:&lt;/h5&gt;&#10;                        &lt;table class=&quot;table table-striped&quot;&gt;&#10;                            &lt;tr&gt;&#10;                                &lt;td&gt;&lt;strong&gt;Context Path:&lt;/strong&gt;&lt;/td&gt;&#10;                                &lt;td&gt;${pageContext.request.contextPath}&lt;/td&gt;&#10;                            &lt;/tr&gt;&#10;                            &lt;tr&gt;&#10;                                &lt;td&gt;&lt;strong&gt;Server Info:&lt;/strong&gt;&lt;/td&gt;&#10;                                &lt;td&gt;${pageContext.servletContext.serverInfo}&lt;/td&gt;&#10;                            &lt;/tr&gt;&#10;                            &lt;tr&gt;&#10;                                &lt;td&gt;&lt;strong&gt;Request URL:&lt;/strong&gt;&lt;/td&gt;&#10;                                &lt;td&gt;${pageContext.request.requestURL}&lt;/td&gt;&#10;                            &lt;/tr&gt;&#10;                            &lt;tr&gt;&#10;                                &lt;td&gt;&lt;strong&gt;Session ID:&lt;/strong&gt;&lt;/td&gt;&#10;                                &lt;td&gt;${pageContext.session.id}&lt;/td&gt;&#10;                            &lt;/tr&gt;&#10;                            &lt;tr&gt;&#10;                                &lt;td&gt;&lt;strong&gt;Current Time:&lt;/strong&gt;&lt;/td&gt;&#10;                                &lt;td&gt;&lt;%= new java.util.Date() %&gt;&lt;/td&gt;&#10;                            &lt;/tr&gt;&#10;                        &lt;/table&gt;&#10;&#10;                        &lt;h5&gt;Framework Status:&lt;/h5&gt;&#10;                        &lt;ul class=&quot;list-group&quot;&gt;&#10;                            &lt;li class=&quot;list-group-item d-flex justify-content-between align-items-center&quot;&gt;&#10;                                &lt;span&gt;&lt;i class=&quot;fas fa-cog&quot;&gt;&lt;/i&gt; DispatcherServlet&lt;/span&gt;&#10;                                &lt;span class=&quot;badge bg-success rounded-pill&quot;&gt;OK&lt;/span&gt;&#10;                            &lt;/li&gt;&#10;                            &lt;li class=&quot;list-group-item d-flex justify-content-between align-items-center&quot;&gt;&#10;                                &lt;span&gt;&lt;i class=&quot;fas fa-eye&quot;&gt;&lt;/i&gt; View Resolver&lt;/span&gt;&#10;                                &lt;span class=&quot;badge bg-success rounded-pill&quot;&gt;OK&lt;/span&gt;&#10;                            &lt;/li&gt;&#10;                            &lt;li class=&quot;list-group-item d-flex justify-content-between align-items-center&quot;&gt;&#10;                                &lt;span&gt;&lt;i class=&quot;fas fa-file-code&quot;&gt;&lt;/i&gt; JSP Rendering&lt;/span&gt;&#10;                                &lt;span class=&quot;badge bg-success rounded-pill&quot;&gt;OK&lt;/span&gt;&#10;                            &lt;/li&gt;&#10;                            &lt;li class=&quot;list-group-item d-flex justify-content-between align-items-center&quot;&gt;&#10;                                &lt;span&gt;&lt;i class=&quot;fas fa-tags&quot;&gt;&lt;/i&gt; JSTL Tags&lt;/span&gt;&#10;                                &lt;span class=&quot;badge bg-success rounded-pill&quot;&gt;OK&lt;/span&gt;&#10;                            &lt;/li&gt;&#10;                        &lt;/ul&gt;&#10;&#10;                        &lt;div class=&quot;text-center mt-4&quot;&gt;&#10;                            &lt;a href=&quot;${pageContext.request.contextPath}/web/&quot; class=&quot;btn btn-primary&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-home&quot;&gt;&lt;/i&gt; Về trang chủ&#10;                            &lt;/a&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;    &lt;/div&gt;&#10;&#10;    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;&#10;&lt;/body&gt;&#10;&lt;/html&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/webapp/WEB-INF/views/users.jsp">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/webapp/WEB-INF/views/users.jsp" />
              <option name="originalContent" value="&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;&#10;&lt;%@ taglib uri=&quot;jakarta.tags.core&quot; prefix=&quot;c&quot; %&gt;&#10;&lt;%@ taglib uri=&quot;jakarta.tags.fmt&quot; prefix=&quot;fmt&quot; %&gt;&#10;&lt;%@ taglib uri=&quot;jakarta.tags.functions&quot; prefix=&quot;fn&quot; %&gt;&#10;&lt;!DOCTYPE html&gt;&#10;&lt;html lang=&quot;vi&quot;&gt;&#10;&lt;head&gt;&#10;    &lt;meta charset=&quot;UTF-8&quot;&gt;&#10;    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;&#10;    &lt;title&gt;Người dùng - Chat App Demo&lt;/title&gt;&#10;    &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;&#10;    &lt;link href=&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css&quot; rel=&quot;stylesheet&quot;&gt;&#10;    &lt;link rel=&quot;stylesheet&quot; href=&quot;${pageContext.request.contextPath}/static/css/style.css&quot;&gt;&#10;    &lt;style&gt;&#10;        .sidebar {&#10;            min-height: 100vh;&#10;            background-color: #f8f9fa;&#10;        }&#10;        .user-card {&#10;            transition: transform 0.2s;&#10;            border: 1px solid #dee2e6;&#10;        }&#10;        .user-card:hover {&#10;            transform: translateY(-2px);&#10;            box-shadow: 0 4px 8px rgba(0,0,0,0.1);&#10;        }&#10;        .user-avatar {&#10;            width: 80px;&#10;            height: 80px;&#10;            background-color: #007bff;&#10;            border-radius: 50%;&#10;            display: flex;&#10;            align-items: center;&#10;            justify-content: center;&#10;            color: white;&#10;            font-weight: bold;&#10;            font-size: 32px;&#10;            margin: 0 auto;&#10;        }&#10;        .role-badge {&#10;            font-size: 0.8rem;&#10;        }&#10;    &lt;/style&gt;&#10;&lt;/head&gt;&#10;&lt;body&gt;&#10;    &lt;div class=&quot;container-fluid&quot;&gt;&#10;        &lt;div class=&quot;row&quot;&gt;&#10;            &lt;!-- Sidebar --&gt;&#10;            &lt;nav class=&quot;col-md-3 col-lg-2 d-md-block sidebar collapse&quot;&gt;&#10;                &lt;div class=&quot;position-sticky pt-3&quot;&gt;&#10;                    &lt;h5 class=&quot;text-center mb-4&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-comments&quot;&gt;&lt;/i&gt; Chat App Demo&#10;                    &lt;/h5&gt;&#10;                    &lt;ul class=&quot;nav flex-column&quot;&gt;&#10;                        &lt;li class=&quot;nav-item&quot;&gt;&#10;                            &lt;a class=&quot;nav-link&quot; href=&quot;${pageContext.request.contextPath}/web/&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-home&quot;&gt;&lt;/i&gt; Trang chủ&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                        &lt;li class=&quot;nav-item&quot;&gt;&#10;                            &lt;a class=&quot;nav-link&quot; href=&quot;${pageContext.request.contextPath}/web/posts&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-newspaper&quot;&gt;&lt;/i&gt; Tất cả bài viết&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                        &lt;li class=&quot;nav-item&quot;&gt;&#10;                            &lt;a class=&quot;nav-link active&quot; href=&quot;${pageContext.request.contextPath}/web/users&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-users&quot;&gt;&lt;/i&gt; Người dùng&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                        &lt;li class=&quot;nav-item&quot;&gt;&#10;                            &lt;a class=&quot;nav-link&quot; href=&quot;${pageContext.request.contextPath}/web/create-post&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-plus&quot;&gt;&lt;/i&gt; Tạo bài viết&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                    &lt;/ul&gt;&#10;                &lt;/div&gt;&#10;            &lt;/nav&gt;&#10;&#10;            &lt;!-- Main content --&gt;&#10;            &lt;main class=&quot;col-md-9 ms-sm-auto col-lg-10 px-md-4&quot;&gt;&#10;                &lt;div class=&quot;d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom&quot;&gt;&#10;                    &lt;h1 class=&quot;h2&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-users&quot;&gt;&lt;/i&gt; Danh sách người dùng&#10;                    &lt;/h1&gt;&#10;                    &lt;div class=&quot;btn-toolbar mb-2 mb-md-0&quot;&gt;&#10;                        &lt;div class=&quot;btn-group me-2&quot;&gt;&#10;                            &lt;span class=&quot;badge bg-primary&quot;&gt;Tổng: ${fn:length(users)} người dùng&lt;/span&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;!-- Error/Success Messages --&gt;&#10;                &lt;c:if test=&quot;${not empty error}&quot;&gt;&#10;                    &lt;div class=&quot;alert alert-danger alert-dismissible fade show&quot; role=&quot;alert&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-exclamation-triangle&quot;&gt;&lt;/i&gt; ${error}&#10;                        &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;alert&quot;&gt;&lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/c:if&gt;&#10;&#10;                &lt;c:if test=&quot;${not empty success}&quot;&gt;&#10;                    &lt;div class=&quot;alert alert-success alert-dismissible fade show&quot; role=&quot;alert&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-check-circle&quot;&gt;&lt;/i&gt; ${success}&#10;                        &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;alert&quot;&gt;&lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/c:if&gt;&#10;&#10;                &lt;!-- Users List --&gt;&#10;                &lt;div class=&quot;row&quot;&gt;&#10;                    &lt;c:choose&gt;&#10;                        &lt;c:when test=&quot;${empty users}&quot;&gt;&#10;                            &lt;div class=&quot;col-12&quot;&gt;&#10;                                &lt;div class=&quot;alert alert-info text-center&quot;&gt;&#10;                                    &lt;i class=&quot;fas fa-info-circle&quot;&gt;&lt;/i&gt; Chưa có người dùng nào trong hệ thống.&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/c:when&gt;&#10;                        &lt;c:otherwise&gt;&#10;                            &lt;c:forEach items=&quot;${users}&quot; var=&quot;user&quot;&gt;&#10;                                &lt;div class=&quot;col-lg-4 col-md-6 mb-4&quot;&gt;&#10;                                    &lt;div class=&quot;card user-card h-100&quot;&gt;&#10;                                        &lt;div class=&quot;card-body text-center&quot;&gt;&#10;                                            &lt;div class=&quot;user-avatar mb-3&quot;&gt;&#10;                                                &lt;c:choose&gt;&#10;                                                    &lt;c:when test=&quot;${not empty user.userName}&quot;&gt;&#10;                                                        ${fn:toUpperCase(fn:substring(user.userName, 0, 1))}&#10;                                                    &lt;/c:when&gt;&#10;                                                    &lt;c:otherwise&gt;U&lt;/c:otherwise&gt;&#10;                                                &lt;/c:choose&gt;&#10;                                            &lt;/div&gt;&#10;                                            &lt;h5 class=&quot;card-title&quot;&gt;&#10;                                                &lt;c:choose&gt;&#10;                                                    &lt;c:when test=&quot;${not empty user.userName}&quot;&gt;${user.userName}&lt;/c:when&gt;&#10;                                                    &lt;c:otherwise&gt;Người dùng #${user.id}&lt;/c:otherwise&gt;&#10;                                                &lt;/c:choose&gt;&#10;                                            &lt;/h5&gt;&#10;                                            &lt;p class=&quot;card-text&quot;&gt;&#10;                                                &lt;span class=&quot;badge role-badge ${user.role eq 'ADMIN' ? 'bg-danger' : 'bg-primary'}&quot;&gt;${user.role}&lt;/span&gt;&#10;                                            &lt;/p&gt;&#10;                                            &lt;p class=&quot;card-text&quot;&gt;&#10;                                                &lt;small class=&quot;text-muted&quot;&gt;&#10;                                                    &lt;i class=&quot;fas fa-calendar-alt&quot;&gt;&lt;/i&gt;&#10;                                                    Tham gia: ${user.createAt}&#10;                                                &lt;/small&gt;&#10;                                            &lt;/p&gt;&#10;                                            &lt;div class=&quot;btn-group&quot; role=&quot;group&quot;&gt;&#10;                                                &lt;a href=&quot;${pageContext.request.contextPath}/web/profile/${user.id}&quot; class=&quot;btn btn-outline-primary btn-sm&quot;&gt;&#10;                                                    &lt;i class=&quot;fas fa-user&quot;&gt;&lt;/i&gt; Profile&#10;                                                &lt;/a&gt;&#10;                                                &lt;a href=&quot;${pageContext.request.contextPath}/web/posts/user/${user.id}&quot; class=&quot;btn btn-outline-secondary btn-sm&quot;&gt;&#10;                                                    &lt;i class=&quot;fas fa-newspaper&quot;&gt;&lt;/i&gt; Bài viết&#10;                                                &lt;/a&gt;&#10;                                            &lt;/div&gt;&#10;                                        &lt;/div&gt;&#10;                                        &lt;div class=&quot;card-footer bg-light&quot;&gt;&#10;                                            &lt;small class=&quot;text-muted d-flex justify-content-between&quot;&gt;&#10;                                                &lt;span&gt;&lt;i class=&quot;fas fa-hashtag&quot;&gt;&lt;/i&gt; ID: ${user.id}&lt;/span&gt;&#10;                                                &lt;span&gt;&lt;i class=&quot;fas fa-clock&quot;&gt;&lt;/i&gt; ${user.createAt}&lt;/span&gt;&#10;                                            &lt;/small&gt;&#10;                                        &lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/c:forEach&gt;&#10;                        &lt;/c:otherwise&gt;&#10;                    &lt;/c:choose&gt;&#10;                &lt;/div&gt;&#10;            &lt;/main&gt;&#10;        &lt;/div&gt;&#10;    &lt;/div&gt;&#10;&#10;    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;&#10;&lt;/body&gt;&#10;&lt;/html&gt;&#10;" />
              <option name="updatedContent" value="&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;&#10;&lt;%@ taglib uri=&quot;jakarta.tags.core&quot; prefix=&quot;c&quot; %&gt;&#10;&lt;%@ taglib uri=&quot;jakarta.tags.fmt&quot; prefix=&quot;fmt&quot; %&gt;&#10;&lt;%@ taglib uri=&quot;jakarta.tags.functions&quot; prefix=&quot;fn&quot; %&gt;&#10;&lt;!DOCTYPE html&gt;&#10;&lt;html lang=&quot;vi&quot;&gt;&#10;&lt;head&gt;&#10;    &lt;meta charset=&quot;UTF-8&quot;&gt;&#10;    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;&#10;    &lt;title&gt;Người dùng - Chat App Demo&lt;/title&gt;&#10;    &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;&#10;    &lt;link href=&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css&quot; rel=&quot;stylesheet&quot;&gt;&#10;    &lt;link rel=&quot;stylesheet&quot; href=&quot;${pageContext.request.contextPath}/static/css/style.css&quot;&gt;&#10;    &lt;style&gt;&#10;        .sidebar {&#10;            min-height: 100vh;&#10;            background-color: #f8f9fa;&#10;        }&#10;        .user-card {&#10;            transition: transform 0.2s;&#10;            border: 1px solid #dee2e6;&#10;        }&#10;        .user-card:hover {&#10;            transform: translateY(-2px);&#10;            box-shadow: 0 4px 8px rgba(0,0,0,0.1);&#10;        }&#10;        .user-avatar {&#10;            width: 80px;&#10;            height: 80px;&#10;            background-color: #007bff;&#10;            border-radius: 50%;&#10;            display: flex;&#10;            align-items: center;&#10;            justify-content: center;&#10;            color: white;&#10;            font-weight: bold;&#10;            font-size: 32px;&#10;            margin: 0 auto;&#10;        }&#10;        .role-badge {&#10;            font-size: 0.8rem;&#10;        }&#10;    &lt;/style&gt;&#10;&lt;/head&gt;&#10;&lt;body&gt;&#10;    &lt;div class=&quot;container-fluid&quot;&gt;&#10;        &lt;div class=&quot;row&quot;&gt;&#10;            &lt;!-- Sidebar --&gt;&#10;            &lt;nav class=&quot;col-md-3 col-lg-2 d-md-block sidebar collapse&quot;&gt;&#10;                &lt;div class=&quot;position-sticky pt-3&quot;&gt;&#10;                    &lt;h5 class=&quot;text-center mb-4&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-comments&quot;&gt;&lt;/i&gt; Chat App Demo&#10;                    &lt;/h5&gt;&#10;                    &lt;ul class=&quot;nav flex-column&quot;&gt;&#10;                        &lt;li class=&quot;nav-item&quot;&gt;&#10;                            &lt;a class=&quot;nav-link&quot; href=&quot;${pageContext.request.contextPath}/web/&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-home&quot;&gt;&lt;/i&gt; Trang chủ&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                        &lt;li class=&quot;nav-item&quot;&gt;&#10;                            &lt;a class=&quot;nav-link&quot; href=&quot;${pageContext.request.contextPath}/web/posts&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-newspaper&quot;&gt;&lt;/i&gt; Tất cả bài viết&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                        &lt;li class=&quot;nav-item&quot;&gt;&#10;                            &lt;a class=&quot;nav-link active&quot; href=&quot;${pageContext.request.contextPath}/web/users&quot;&gt;&#10;                                &lt;i class=&quot;fas fa-users&quot;&gt;&lt;/i&gt; Người dùng&#10;                            &lt;/a&gt;&#10;                        &lt;/li&gt;&#10;                    &lt;/ul&gt;&#10;                &lt;/div&gt;&#10;            &lt;/nav&gt;&#10;&#10;            &lt;!-- Main content --&gt;&#10;            &lt;main class=&quot;col-md-9 ms-sm-auto col-lg-10 px-md-4&quot;&gt;&#10;                &lt;div class=&quot;d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom&quot;&gt;&#10;                    &lt;h1 class=&quot;h2&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-users&quot;&gt;&lt;/i&gt; Danh sách người dùng&#10;                    &lt;/h1&gt;&#10;                    &lt;div class=&quot;btn-toolbar mb-2 mb-md-0&quot;&gt;&#10;                        &lt;div class=&quot;btn-group me-2&quot;&gt;&#10;                            &lt;span class=&quot;badge bg-primary&quot;&gt;Tổng: ${fn:length(users)} người dùng&lt;/span&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;!-- Error/Success Messages --&gt;&#10;                &lt;c:if test=&quot;${not empty error}&quot;&gt;&#10;                    &lt;div class=&quot;alert alert-danger alert-dismissible fade show&quot; role=&quot;alert&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-exclamation-triangle&quot;&gt;&lt;/i&gt; ${error}&#10;                        &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;alert&quot;&gt;&lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/c:if&gt;&#10;&#10;                &lt;c:if test=&quot;${not empty success}&quot;&gt;&#10;                    &lt;div class=&quot;alert alert-success alert-dismissible fade show&quot; role=&quot;alert&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-check-circle&quot;&gt;&lt;/i&gt; ${success}&#10;                        &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;alert&quot;&gt;&lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/c:if&gt;&#10;&#10;                &lt;!-- Users List --&gt;&#10;                &lt;div class=&quot;row&quot;&gt;&#10;                    &lt;c:choose&gt;&#10;                        &lt;c:when test=&quot;${empty users}&quot;&gt;&#10;                            &lt;div class=&quot;col-12&quot;&gt;&#10;                                &lt;div class=&quot;alert alert-info text-center&quot;&gt;&#10;                                    &lt;i class=&quot;fas fa-info-circle&quot;&gt;&lt;/i&gt; Chưa có người dùng nào trong hệ thống.&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/c:when&gt;&#10;                        &lt;c:otherwise&gt;&#10;                            &lt;c:forEach items=&quot;${users}&quot; var=&quot;user&quot;&gt;&#10;                                &lt;div class=&quot;col-lg-4 col-md-6 mb-4&quot;&gt;&#10;                                    &lt;div class=&quot;card user-card h-100&quot;&gt;&#10;                                        &lt;div class=&quot;card-body text-center&quot;&gt;&#10;                                            &lt;div class=&quot;user-avatar mb-3&quot;&gt;&#10;                                                &lt;c:choose&gt;&#10;                                                    &lt;c:when test=&quot;${not empty user.userName}&quot;&gt;&#10;                                                        ${fn:toUpperCase(fn:substring(user.userName, 0, 1))}&#10;                                                    &lt;/c:when&gt;&#10;                                                    &lt;c:otherwise&gt;U&lt;/c:otherwise&gt;&#10;                                                &lt;/c:choose&gt;&#10;                                            &lt;/div&gt;&#10;                                            &lt;h5 class=&quot;card-title&quot;&gt;&#10;                                                &lt;c:choose&gt;&#10;                                                    &lt;c:when test=&quot;${not empty user.userName}&quot;&gt;${user.userName}&lt;/c:when&gt;&#10;                                                    &lt;c:otherwise&gt;Người dùng #${user.id}&lt;/c:otherwise&gt;&#10;                                                &lt;/c:choose&gt;&#10;                                            &lt;/h5&gt;&#10;                                            &lt;p class=&quot;card-text&quot;&gt;&#10;                                                &lt;span class=&quot;badge role-badge ${user.role eq 'ADMIN' ? 'bg-danger' : 'bg-primary'}&quot;&gt;${user.role}&lt;/span&gt;&#10;                                            &lt;/p&gt;&#10;                                            &lt;p class=&quot;card-text&quot;&gt;&#10;                                                &lt;small class=&quot;text-muted&quot;&gt;&#10;                                                    &lt;i class=&quot;fas fa-calendar-alt&quot;&gt;&lt;/i&gt;&#10;                                                    Tham gia: ${user.createAt}&#10;                                                &lt;/small&gt;&#10;                                            &lt;/p&gt;&#10;                                            &lt;div class=&quot;btn-group&quot; role=&quot;group&quot;&gt;&#10;                                                &lt;a href=&quot;${pageContext.request.contextPath}/web/profile/${user.id}&quot; class=&quot;btn btn-outline-primary btn-sm&quot;&gt;&#10;                                                    &lt;i class=&quot;fas fa-user&quot;&gt;&lt;/i&gt; Profile&#10;                                                &lt;/a&gt;&#10;                                                &lt;a href=&quot;${pageContext.request.contextPath}/web/posts/user/${user.id}&quot; class=&quot;btn btn-outline-secondary btn-sm&quot;&gt;&#10;                                                    &lt;i class=&quot;fas fa-newspaper&quot;&gt;&lt;/i&gt; Bài viết&#10;                                                &lt;/a&gt;&#10;                                            &lt;/div&gt;&#10;                                        &lt;/div&gt;&#10;                                        &lt;div class=&quot;card-footer bg-light&quot;&gt;&#10;                                            &lt;small class=&quot;text-muted d-flex justify-content-between&quot;&gt;&#10;                                                &lt;span&gt;&lt;i class=&quot;fas fa-hashtag&quot;&gt;&lt;/i&gt; ID: ${user.id}&lt;/span&gt;&#10;                                                &lt;span&gt;&lt;i class=&quot;fas fa-clock&quot;&gt;&lt;/i&gt; ${user.createAt}&lt;/span&gt;&#10;                                            &lt;/small&gt;&#10;                                        &lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/c:forEach&gt;&#10;                        &lt;/c:otherwise&gt;&#10;                    &lt;/c:choose&gt;&#10;                &lt;/div&gt;&#10;            &lt;/main&gt;&#10;        &lt;/div&gt;&#10;    &lt;/div&gt;&#10;&#10;    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;&#10;&lt;/body&gt;&#10;&lt;/html&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/webapp/WEB-INF/web.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/webapp/WEB-INF/web.xml" />
              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;web-app xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;&#10;         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&#10;         xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee&#10;         https://jakarta.ee/xml/ns/jakartaee/web-app_6_0.xsd&quot;&#10;         version=&quot;6.0&quot;&gt;&#10;&#10;    &lt;display-name&gt;ChatApp&lt;/display-name&gt;&#10;&#10;    &lt;!-- Spring MVC Dispatcher Servlet --&gt;&#10;    &lt;servlet&gt;&#10;        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;&#10;        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;&#10;        &lt;init-param&gt;&#10;            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;&#10;            &lt;param-value&gt;/WEB-INF/dispatcher-servlet.xml&lt;/param-value&gt;&#10;        &lt;/init-param&gt;&#10;        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;&#10;    &lt;/servlet&gt;&#10;&#10;    &lt;servlet-mapping&gt;&#10;        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;&#10;        &lt;url-pattern&gt;/&lt;/url-pattern&gt;&#10;    &lt;/servlet-mapping&gt;&#10;&#10;    &lt;!-- Character Encoding Filter --&gt;&#10;    &lt;filter&gt;&#10;        &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;&#10;        &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;&#10;        &lt;init-param&gt;&#10;            &lt;param-name&gt;encoding&lt;/param-name&gt;&#10;            &lt;param-value&gt;UTF-8&lt;/param-value&gt;&#10;        &lt;/init-param&gt;&#10;        &lt;init-param&gt;&#10;            &lt;param-name&gt;forceEncoding&lt;/param-name&gt;&#10;            &lt;param-value&gt;true&lt;/param-value&gt;&#10;        &lt;/init-param&gt;&#10;    &lt;/filter&gt;&#10;&#10;    &lt;filter-mapping&gt;&#10;        &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;&#10;        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;&#10;    &lt;/filter-mapping&gt;&#10;&#10;&lt;/web-app&gt;&#10;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;web-app xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;&#10;         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&#10;         xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee&#10;         https://jakarta.ee/xml/ns/jakartaee/web-app_6_0.xsd&quot;&#10;         version=&quot;6.0&quot;&gt;&#10;&#10;    &lt;display-name&gt;ChatApp&lt;/display-name&gt;&#10;&#10;    &lt;!-- Context Configuration --&gt;&#10;    &lt;context-param&gt;&#10;        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;&#10;        &lt;param-value&gt;/WEB-INF/applicationContext.xml&lt;/param-value&gt;&#10;    &lt;/context-param&gt;&#10;&#10;    &lt;!-- Spring Context Loader --&gt;&#10;    &lt;listener&gt;&#10;        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;&#10;    &lt;/listener&gt;&#10;&#10;    &lt;!-- Spring MVC Dispatcher Servlet --&gt;&#10;    &lt;servlet&gt;&#10;        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;&#10;        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;&#10;        &lt;init-param&gt;&#10;            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;&#10;            &lt;param-value&gt;/WEB-INF/dispatcher-servlet.xml&lt;/param-value&gt;&#10;        &lt;/init-param&gt;&#10;        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;&#10;    &lt;/servlet&gt;&#10;&#10;    &lt;servlet-mapping&gt;&#10;        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;&#10;        &lt;url-pattern&gt;/&lt;/url-pattern&gt;&#10;    &lt;/servlet-mapping&gt;&#10;&#10;    &lt;!-- Character Encoding Filter --&gt;&#10;    &lt;filter&gt;&#10;        &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;&#10;        &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;&#10;        &lt;init-param&gt;&#10;            &lt;param-name&gt;encoding&lt;/param-name&gt;&#10;            &lt;param-value&gt;UTF-8&lt;/param-value&gt;&#10;        &lt;/init-param&gt;&#10;        &lt;init-param&gt;&#10;            &lt;param-name&gt;forceEncoding&lt;/param-name&gt;&#10;            &lt;param-value&gt;true&lt;/param-value&gt;&#10;        &lt;/init-param&gt;&#10;    &lt;/filter&gt;&#10;&#10;    &lt;filter-mapping&gt;&#10;        &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;&#10;        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;&#10;    &lt;/filter-mapping&gt;&#10;&#10;&lt;/web-app&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/webapp/static/css/style.css">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/webapp/static/css/style.css" />
              <option name="updatedContent" value="/* ChatApp Main Stylesheet */&#10;&#10;body {&#10;    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;&#10;    margin: 0;&#10;    padding: 0;&#10;    background-color: #f8f9fa;&#10;    line-height: 1.6;&#10;}&#10;&#10;.container {&#10;    max-width: 1200px;&#10;    margin: 0 auto;&#10;    padding: 20px;&#10;}&#10;&#10;.header {&#10;    background-color: #343a40;&#10;    color: white;&#10;    padding: 1rem 0;&#10;    margin-bottom: 2rem;&#10;}&#10;&#10;.nav {&#10;    display: flex;&#10;    gap: 1rem;&#10;    margin: 1rem 0;&#10;}&#10;&#10;.nav a {&#10;    color: #007bff;&#10;    text-decoration: none;&#10;    padding: 0.5rem 1rem;&#10;    border-radius: 4px;&#10;    transition: background-color 0.3s;&#10;}&#10;&#10;.nav a:hover {&#10;    background-color: #e9ecef;&#10;    text-decoration: none;&#10;}&#10;&#10;.card {&#10;    background: white;&#10;    border-radius: 8px;&#10;    box-shadow: 0 2px 4px rgba(0,0,0,0.1);&#10;    padding: 1.5rem;&#10;    margin-bottom: 1rem;&#10;}&#10;&#10;.btn {&#10;    display: inline-block;&#10;    padding: 0.5rem 1rem;&#10;    background-color: #007bff;&#10;    color: white;&#10;    text-decoration: none;&#10;    border-radius: 4px;&#10;    border: none;&#10;    cursor: pointer;&#10;    transition: background-color 0.3s;&#10;}&#10;&#10;.btn:hover {&#10;    background-color: #0056b3;&#10;    text-decoration: none;&#10;}&#10;&#10;.form-group {&#10;    margin-bottom: 1rem;&#10;}&#10;&#10;.form-group label {&#10;    display: block;&#10;    margin-bottom: 0.5rem;&#10;    font-weight: bold;&#10;}&#10;&#10;.form-group input,&#10;.form-group textarea,&#10;.form-group select {&#10;    width: 100%;&#10;    padding: 0.5rem;&#10;    border: 1px solid #ced4da;&#10;    border-radius: 4px;&#10;    box-sizing: border-box;&#10;}&#10;&#10;.alert {&#10;    padding: 0.75rem 1rem;&#10;    border-radius: 4px;&#10;    margin-bottom: 1rem;&#10;}&#10;&#10;.alert-error {&#10;    background-color: #f8d7da;&#10;    color: #721c24;&#10;    border: 1px solid #f5c6cb;&#10;}&#10;&#10;.alert-success {&#10;    background-color: #d4edda;&#10;    color: #155724;&#10;    border: 1px solid #c3e6cb;&#10;}&#10;&#10;.post-meta {&#10;    color: #6c757d;&#10;    font-size: 0.875rem;&#10;    margin-bottom: 0.5rem;&#10;}&#10;&#10;.user-info {&#10;    color: #6c757d;&#10;    font-size: 0.9rem;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/start.bat">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/start.bat" />
              <option name="updatedContent" value="@echo off&#10;echo &quot;=== KHỞI ĐỘNG NHANH CHATAPP ===&quot;&#10;echo.&#10;&#10;REM Cấu hình đường dẫn&#10;set TOMCAT_HOME=C:\apache-tomcat-10.1.15&#10;&#10;echo &quot;Kiểm tra Tomcat...&quot;&#10;if not exist &quot;%TOMCAT_HOME%\bin\startup.bat&quot; (&#10;    echo &quot;ERROR: Tomcat chưa được cài đặt hoặc đường dẫn không đúng&quot;&#10;    echo &quot;1. Chạy install-tomcat.bat để xem hướng dẫn cài đặt&quot;&#10;    echo &quot;2. Hoặc chỉnh sửa TOMCAT_HOME trong file này&quot;&#10;    pause&#10;    exit /b 1&#10;)&#10;&#10;echo &quot;Kiểm tra ứng dụng đã deploy...&quot;&#10;if not exist &quot;%TOMCAT_HOME%\webapps\ChatApp.war&quot; (&#10;    echo &quot;WARNING: Ứng dụng chưa được deploy&quot;&#10;    echo &quot;Chạy deploy.bat để deploy ứng dụng&quot;&#10;    pause&#10;    exit /b 1&#10;)&#10;&#10;echo &quot;Khởi động Tomcat...&quot;&#10;cd /d &quot;%TOMCAT_HOME%\bin&quot;&#10;start &quot;&quot; startup.bat&#10;&#10;echo.&#10;echo &quot;=== ĐANG KHỞI ĐỘNG ===&quot;&#10;echo &quot;Vui lòng đợi 15-20 giây để server khởi động hoàn tất...&quot;&#10;echo.&#10;&#10;timeout /t 3 &gt;nul&#10;&#10;echo &quot;Mở trình duyệt...&quot;&#10;start &quot;&quot; &quot;http://localhost:8080/ChatApp/&quot;&#10;&#10;echo.&#10;echo &quot;=== THÔNG TIN TRUY CẬP ===&quot;&#10;echo &quot;URL chính: http://localhost:8080/ChatApp/&quot;&#10;echo &quot;API Posts: http://localhost:8080/ChatApp/api/posts&quot;&#10;echo &quot;Web Interface: http://localhost:8080/ChatApp/web/&quot;&#10;echo.&#10;echo &quot;Để dừng server: Ctrl+C trong cửa sổ Tomcat&quot;&#10;echo.&#10;&#10;pause" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>